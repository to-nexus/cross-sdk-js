{"version":3,"file":"cross-sdk.js","sources":["../../core/dist/esm/src/utils/SIWXConfigHelper.js","../../appkit/dist/esm/exports/index.js","../../wallet-button/dist/esm/src/client.js","../../wallet-button/dist/esm/exports/index.js","../../sdk/dist/esm/index.js","../lib/cross-sdk.ts"],"sourcesContent":["import { AccountController } from '../controllers/AccountController.js';\n/**\n * Creates a default SIWX configuration that works out of the box for most use cases.\n *\n * This eliminates the need for DApps to implement ~120 lines of boilerplate code.\n * All callbacks can be customized if needed (e.g., for backend verification).\n *\n * @example\n * ```typescript\n * // âš ï¸ Development/Demo only (NOT SECURE for production)\n * initCrossSdkWithParams({\n *   projectId: 'your-project-id',\n *   siwx: createDefaultSIWXConfig({\n *     statement: 'Sign in to My DApp'\n *   })\n * })\n *\n * // âœ… Production-ready with backend verification\n * initCrossSdkWithParams({\n *   projectId: 'your-project-id',\n *   siwx: createDefaultSIWXConfig({\n *     statement: 'Sign in to My DApp',\n *     // CRITICAL: Get nonce from backend to prevent replay attacks\n *     getNonce: async () => {\n *       const response = await fetch('/api/siwe/nonce')\n *       const { nonce } = await response.json()\n *       return nonce\n *     },\n *     // Verify signature on backend\n *     addSession: async (session) => {\n *       await fetch('/api/siwe/verify', {\n *         method: 'POST',\n *         headers: { 'Content-Type': 'application/json' },\n *         body: JSON.stringify(session)\n *       })\n *     },\n *     // Retrieve sessions from backend\n *     getSessions: async (chainId, address) => {\n *       const response = await fetch(\n *         `/api/siwe/sessions?chain=${chainId}&address=${address}`\n *       )\n *       return response.json()\n *     }\n *   })\n * })\n * ```\n */\nexport function createDefaultSIWXConfig(options = {}) {\n    let currentChainId = undefined;\n    // Subscribe to chain changes to track the current chain\n    AccountController.subscribeKey('caipAddress', caipAddress => {\n        if (caipAddress) {\n            const parts = caipAddress.split(':');\n            if (parts.length >= 2) {\n                currentChainId = `${parts[0]}:${parts[1]}`;\n            }\n        }\n    });\n    return {\n        /**\n         * Creates a SIWE message with standard fields\n         */\n        createMessage: async (input) => {\n            const chainId = currentChainId || input.chainId;\n            const issuedAt = new Date();\n            const expirationTime = typeof options.expirationTime === 'function'\n                ? options.expirationTime(issuedAt)\n                : options.expirationTime || new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString();\n            // Get nonce from backend if provided, otherwise generate random (NOT SECURE for production)\n            const nonce = options.getNonce\n                ? await options.getNonce()\n                : Math.random().toString(36).substring(2, 15);\n            const message = {\n                ...input,\n                chainId,\n                domain: options.domain || window.location.host,\n                uri: options.uri || window.location.origin,\n                version: '1',\n                nonce,\n                issuedAt: issuedAt.toISOString(),\n                expirationTime,\n                statement: options.statement || 'Sign in with your wallet',\n                toString: () => [\n                    `${message.domain} wants you to sign in with your account:`,\n                    message.accountAddress,\n                    '',\n                    message.statement || '',\n                    '',\n                    `URI: ${message.uri}`,\n                    `Version: ${message.version}`,\n                    `Chain ID: ${message.chainId}`,\n                    `Nonce: ${message.nonce}`,\n                    `Issued At: ${message.issuedAt}`,\n                    message.expirationTime ? `Expiration Time: ${message.expirationTime}` : ''\n                ]\n                    .filter(Boolean)\n                    .join('\\n')\n            };\n            return message;\n        },\n        /**\n         * Stores a SIWX session (defaults to localStorage)\n         */\n        addSession: options.addSession ||\n            (async (session) => {\n                console.log('âœ… SIWX Session added:', session);\n                localStorage.setItem('siwx_session', JSON.stringify(session));\n            }),\n        /**\n         * Revokes a SIWX session (defaults to localStorage removal)\n         */\n        revokeSession: options.revokeSession ||\n            (async (chainId, address) => {\n                console.log('ðŸ—‘ï¸ SIWX Session revoked:', { chainId, address });\n                localStorage.removeItem('siwx_session');\n            }),\n        /**\n         * Sets multiple SIWX sessions (defaults to localStorage)\n         */\n        setSessions: options.setSessions ||\n            (async (sessions) => {\n                console.log('ðŸ“ SIWX Sessions set:', sessions);\n                if (sessions.length > 0) {\n                    localStorage.setItem('siwx_sessions', JSON.stringify(sessions));\n                }\n                else {\n                    localStorage.removeItem('siwx_sessions');\n                }\n            }),\n        /**\n         * Retrieves SIWX sessions for a given chain and address (defaults to localStorage)\n         */\n        getSessions: options.getSessions ||\n            (async (chainId, address) => {\n                // Check single session\n                const sessionStr = localStorage.getItem('siwx_session');\n                if (sessionStr) {\n                    try {\n                        const session = JSON.parse(sessionStr);\n                        if (session.data.chainId === chainId &&\n                            session.data.accountAddress.toLowerCase() === address.toLowerCase()) {\n                            return [session];\n                        }\n                    }\n                    catch (error) {\n                        console.error('Error parsing siwx_session:', error);\n                    }\n                }\n                // Check multiple sessions\n                const sessionsStr = localStorage.getItem('siwx_sessions');\n                if (sessionsStr) {\n                    try {\n                        const sessions = JSON.parse(sessionsStr);\n                        return sessions.filter(s => s.data.chainId === chainId &&\n                            s.data.accountAddress.toLowerCase() === address.toLowerCase());\n                    }\n                    catch (error) {\n                        console.error('Error parsing siwx_sessions:', error);\n                    }\n                }\n                return [];\n            }),\n        /**\n         * Whether SIWX authentication is required (defaults to false - optional)\n         */\n        getRequired: options.getRequired || (() => false)\n    };\n}\n//# sourceMappingURL=SIWXConfigHelper.js.map","import { CoreHelperUtil } from '@to-nexus/appkit-core';\nimport { AppKit } from '../src/client.js';\nimport { PACKAGE_VERSION } from './constants.js';\n// -- Views ------------------------------------------------------------\nexport * from '@to-nexus/appkit-scaffold-ui';\n// -- Utils & Other -----------------------------------------------------\nexport * from '../src/utils/index.js';\nexport { CoreHelperUtil, AccountController, SendController, ConnectionController } from '@to-nexus/appkit-core';\nexport function createAppKit(options) {\n    return new AppKit({\n        ...options,\n        sdkVersion: CoreHelperUtil.generateSdkVersion(options.adapters ?? [], 'html', PACKAGE_VERSION)\n    });\n}\nexport { AppKit };\n//# sourceMappingURL=index.js.map","import { ConnectionController, ConnectorController, OptionsController } from '@to-nexus/appkit-core';\nimport { ApiController } from './controllers/ApiController.js';\nimport { WalletButtonController } from './controllers/WalletButtonController.js';\nimport { ConnectorUtil } from './utils/ConnectorUtil.js';\nimport { ConstantsUtil } from './utils/ConstantsUtil.js';\nimport { WalletUtil } from './utils/WalletUtil.js';\nexport class AppKitWalletButton {\n    constructor() {\n    }\n    isReady() {\n        return WalletButtonController.state.ready;\n    }\n    subscribeIsReady(callback) {\n        ApiController.subscribeKey('walletButtons', val => {\n            if (val.length) {\n                callback({ isReady: true });\n            }\n            else {\n                callback({ isReady: false });\n            }\n        });\n    }\n    async disconnect() {\n        WalletButtonController.setPending(true);\n        WalletButtonController.setError(undefined);\n        await ConnectionController.disconnect();\n        WalletButtonController.setPending(false);\n    }\n    async connect(wallet) {\n        try {\n            WalletButtonController.setPending(true);\n            WalletButtonController.setError(undefined);\n            if (ConstantsUtil.Socials.some(social => social === wallet)) {\n                const result = await ConnectorUtil.connectSocial(wallet);\n                this.handleSuccess(result);\n                return result;\n            }\n            const walletButton = WalletUtil.getWalletButton(wallet);\n            const connector = walletButton\n                ? ConnectorController.getConnector(walletButton.id, walletButton.rdns)\n                : undefined;\n            if (connector) {\n                const result = await ConnectorUtil.connectExternal(connector);\n                this.handleSuccess(result);\n                return result;\n            }\n            const { customWallets } = OptionsController.state;\n            const customWallet = customWallets?.find(w => w.id === wallet);\n            const currentConnectors = ConnectorController.state.connectors;\n            const result = await ConnectorUtil.connectWalletConnect({\n                walletConnect: wallet === 'cross_wallet',\n                connector: currentConnectors.find((c) => c.id === wallet),\n                wallet: customWallet\n            });\n            this.handleSuccess(result);\n            return result;\n        }\n        catch (err) {\n            this.handleError(err);\n            throw err;\n        }\n        finally {\n            WalletButtonController.setPending(false);\n        }\n    }\n    handleSuccess(result) {\n        console.log('Connection successful:', result);\n    }\n    handleError(err) {\n        console.error('Connection failed:', err);\n        WalletButtonController.setError(err);\n    }\n}\n//# sourceMappingURL=client.js.map","import { AppKitWalletButton } from '../src/client.js';\nexport * from '../src/scaffold-ui/appkit-wallet-button/index.js';\nexport { ConnectorUtil } from '../src/utils/ConnectorUtil.js';\nlet walletButton = undefined;\nexport function createAppKitWalletButton() {\n    if (!walletButton) {\n        walletButton = new AppKitWalletButton();\n    }\n    return walletButton;\n}\n//# sourceMappingURL=index.js.map","import { createAppKit as d } from \"@to-nexus/appkit\";\nimport { EthersAdapter as f } from \"@to-nexus/appkit-adapter-ethers\";\nimport { ConstantsUtil as m } from \"@to-nexus/appkit-common\";\nimport { AccountController as U, ApiController as v, ChainController as y, ConnectionController as B, ConstantsUtil as D, CoreHelperUtil as E, OptionsController as I, SendController as O, createDefaultSIWXConfig as P } from \"@to-nexus/appkit-core\";\nimport { createAppKitWalletButton as C } from \"@to-nexus/appkit-wallet-button\";\nimport { ConnectorUtil as H } from \"@to-nexus/appkit-wallet-button\";\nimport { networkList as h } from \"@to-nexus/appkit/networks\";\nimport { bscMainnet as N, bscTestnet as V, crossMainnet as X, crossTestnet as q, etherMainnet as z, etherTestnet as F, kaiaMainnet as G, kaiaTestnet as J } from \"@to-nexus/appkit/networks\";\nimport { default as Y } from \"@to-nexus/universal-provider\";\nconst u = new f(), k = (() => {\n  var e, t;\n  return ((t = (e = m).getCrossWalletWebappLink) == null ? void 0 : t.call(e)) || \"https://cross-wallet.crosstoken.io/wc\";\n})(), g = {\n  name: \"Cross SDK\",\n  description: \"Cross SDK for HTML\",\n  url: \"https://to.nexus\",\n  icons: [\"https://contents.crosstoken.io/img/sample_app_circle_icon.png\"]\n}, A = (e) => {\n  const {\n    projectId: t,\n    redirectUrl: s,\n    metadata: r,\n    themeMode: a,\n    defaultNetwork: o,\n    adapters: n,\n    mobileLink: l,\n    siwx: i\n  } = e;\n  return w(\n    t,\n    s,\n    r,\n    a,\n    o,\n    n,\n    l,\n    i\n  );\n}, w = (e, t, s, r, a, o, n, l) => {\n  var c, p;\n  const i = {\n    ...g,\n    ...s,\n    redirect: {\n      universal: t\n    }\n  };\n  return d({\n    adapters: o && o.length > 0 ? o : [u],\n    networks: h,\n    defaultNetwork: a,\n    metadata: i,\n    projectId: e,\n    themeMode: r || \"light\",\n    siwx: l,\n    features: {\n      swaps: !1,\n      onramp: !1,\n      receive: !1,\n      send: !1,\n      email: !1,\n      emailShowWallets: !1,\n      socials: !1,\n      history: !1,\n      analytics: !1,\n      legalCheckbox: !1\n    },\n    enableCoinbase: !1,\n    customWallets: [\n      {\n        id: \"cross_wallet\",\n        name: \"CROSSx Wallet\",\n        image_url: \"https://contents.crosstoken.io/wallet/token/images/CROSSx.svg\",\n        mobile_link: n || ((p = (c = m).getCrossWalletWebappLink) == null ? void 0 : p.call(c)) || k,\n        app_store: \"https://apps.apple.com/us/app/crossx-games/id6741250674\",\n        play_store: \"https://play.google.com/store/apps/details?id=com.nexus.crosswallet\",\n        chrome_store: \"https://chromewebstore.google.com/detail/crossx/nninbdadmocnokibpaaohnoepbnpdgcg\",\n        rdns: \"nexus.to.crosswallet.desktop\",\n        injected: [\n          {\n            injected_id: \"nexus.to.crosswallet.desktop\"\n          }\n        ]\n      }\n    ],\n    allWallets: \"HIDE\"\n  });\n}, M = () => C(), L = \"1.18.2-beta.1\";\nexport {\n  U as AccountController,\n  v as ApiController,\n  y as ChainController,\n  B as ConnectionController,\n  H as ConnectorUtil,\n  D as ConstantsUtil,\n  E as CoreHelperUtil,\n  I as OptionsController,\n  O as SendController,\n  Y as UniversalProvider,\n  N as bscMainnet,\n  V as bscTestnet,\n  P as createDefaultSIWXConfig,\n  X as crossMainnet,\n  q as crossTestnet,\n  z as etherMainnet,\n  F as etherTestnet,\n  w as initCrossSdk,\n  A as initCrossSdkWithParams,\n  G as kaiaMainnet,\n  J as kaiaTestnet,\n  L as sdkVersion,\n  M as useAppKitWallet\n};\n","/**\n * Cross SDK CDN Entry Point\n * Exports all Cross SDK functionality for browser usage\n */\nimport {\n  AccountController,\n  ChainController,\n  ConnectionController,\n  ConnectorUtil,\n  ConstantsUtil,\n  CoreHelperUtil,\n  type CrossSdkParams,\n  type Metadata,\n  OptionsController,\n  SendController,\n  UniversalProvider,\n  bscMainnet,\n  bscTestnet,\n  crossMainnet,\n  crossTestnet,\n  createDefaultSIWXConfig,\n  etherMainnet,\n  etherTestnet,\n  initCrossSdk,\n  initCrossSdkWithParams,\n  kaiaMainnet,\n  kaiaTestnet,\n  sdkVersion,\n  useAppKitWallet\n} from '@to-nexus/sdk'\n\n// Export all SDK functionality\nexport {\n  initCrossSdk,\n  initCrossSdkWithParams,\n  useAppKitWallet,\n  createDefaultSIWXConfig,\n  ConnectionController,\n  ConnectorUtil,\n  SendController,\n  AccountController,\n  ChainController,\n  CoreHelperUtil,\n  OptionsController,\n  crossMainnet,\n  crossTestnet,\n  bscMainnet,\n  bscTestnet,\n  kaiaMainnet,\n  kaiaTestnet,\n  etherMainnet,\n  etherTestnet,\n  UniversalProvider,\n  ConstantsUtil,\n  sdkVersion\n}\n\n// Export types\nexport type { CrossSdkParams, Metadata }\n\ndeclare global {\n  interface Window {\n    CrossSdk: {\n      initCrossSdk: typeof initCrossSdk\n      initCrossSdkWithParams: typeof initCrossSdkWithParams\n      useAppKitWallet: typeof useAppKitWallet\n      createDefaultSIWXConfig: typeof createDefaultSIWXConfig\n      ConnectionController: typeof ConnectionController\n      ConnectorUtil: typeof ConnectorUtil\n      SendController: typeof SendController\n      AccountController: typeof AccountController\n      ChainController: typeof ChainController\n      CoreHelperUtil: typeof CoreHelperUtil\n      OptionsController: typeof OptionsController\n      crossMainnet: typeof crossMainnet\n      crossTestnet: typeof crossTestnet\n      bscMainnet: typeof bscMainnet\n      bscTestnet: typeof bscTestnet\n      kaiaMainnet: typeof kaiaMainnet\n      kaiaTestnet: typeof kaiaTestnet\n      etherMainnet: typeof etherMainnet\n      etherTestnet: typeof etherTestnet\n      UniversalProvider: typeof UniversalProvider\n      ConstantsUtil: typeof ConstantsUtil\n      sdkVersion: typeof sdkVersion\n    }\n  }\n}\n\n// Assign to window.CrossSdk for global access\nif (typeof window !== 'undefined') {\n  window.CrossSdk = {\n    initCrossSdk,\n    initCrossSdkWithParams,\n    useAppKitWallet,\n    createDefaultSIWXConfig,\n    ConnectionController,\n    ConnectorUtil,\n    SendController,\n    AccountController,\n    ChainController,\n    CoreHelperUtil,\n    OptionsController,\n    crossMainnet,\n    crossTestnet,\n    bscMainnet,\n    bscTestnet,\n    kaiaMainnet,\n    kaiaTestnet,\n    etherMainnet,\n    etherTestnet,\n    UniversalProvider,\n    ConstantsUtil,\n    sdkVersion\n  }\n}\n"],"names":["result","walletButton","w","f","m","d","h","C","initCrossSdk","initCrossSdkWithParams","useAppKitWallet","UniversalProvider","ConstantsUtil","sdkVersion"],"mappings":"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"}