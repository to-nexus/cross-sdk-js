{"version":3,"file":"index-BNKwqVAg.js","sources":["../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/storage/ScopedLocalStorage.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/error/constants.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/error/utils.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/error/errors.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/type/index.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/type/util.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/util/cipher.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/scw/SCWKeyManager.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sdk-info.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/util/provider.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/scw/SCWSigner.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/_u64.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/crypto.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/utils.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/sha3.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/vendor-js/eth-eip712-util/util.cjs","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/vendor-js/eth-eip712-util/abi.cjs","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/vendor-js/eth-eip712-util/index.cjs","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/constants.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/type/Web3Response.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/connection/WalletLinkCipher.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/connection/WalletLinkHTTP.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/connection/WalletLinkWebSocket.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/connection/WalletLinkConnection.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/RelayEventManager.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/utils.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/_md.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/sha2.js","../../../node_modules/.pnpm/@noble+hashes@1.8.0/node_modules/@noble/hashes/esm/sha256.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/type/WalletLinkSession.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/components/util.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/components/cssReset/cssReset-css.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/components/cssReset/cssReset.js","../../../node_modules/.pnpm/clsx@1.2.1/node_modules/clsx/dist/clsx.m.js","../../../node_modules/.pnpm/preact@10.27.2/node_modules/preact/dist/preact.module.js","../../../node_modules/.pnpm/preact@10.27.2/node_modules/preact/hooks/dist/hooks.module.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/components/Snackbar/Snackbar-css.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/components/Snackbar/Snackbar.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/WalletLinkRelayUI.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/components/RedirectDialog/RedirectDialog-css.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/components/RedirectDialog/RedirectDialog.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/constants.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/ui/WLMobileRelayUI.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/relay/WalletLinkRelay.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/walletlink/WalletLinkSigner.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/sign/util.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/util/checkCrossOriginOpenerPolicy.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/util/web.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/communicator/Communicator.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/error/serialize.js","../../../node_modules/.pnpm/eventemitter3@5.0.1/node_modules/eventemitter3/index.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/core/provider/interface.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/CoinbaseWalletProvider.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/util/validatePreferences.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/createCoinbaseWalletProvider.js","../../../node_modules/.pnpm/@coinbase+wallet-sdk@4.3.0/node_modules/@coinbase/wallet-sdk/dist/createCoinbaseWalletSDK.js"],"sourcesContent":["// Copyright (c) 2018-2024 Coinbase, Inc. <https://www.coinbase.com/>\n// TODO: clean up, or possibly deprecate Storage class\nexport class ScopedLocalStorage {\n    constructor(scope, module) {\n        this.scope = scope;\n        this.module = module;\n    }\n    storeObject(key, item) {\n        this.setItem(key, JSON.stringify(item));\n    }\n    loadObject(key) {\n        const item = this.getItem(key);\n        return item ? JSON.parse(item) : undefined;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey('');\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === 'string' && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach((key) => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `-${this.scope}${this.module ? `:${this.module}` : ''}:${key}`;\n    }\n    static clearAll() {\n        new ScopedLocalStorage('CBWSDK').clear();\n        new ScopedLocalStorage('walletlink').clear();\n    }\n}\n//# sourceMappingURL=ScopedLocalStorage.js.map","export const standardErrorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n        unsupportedChain: 4902,\n    },\n};\nexport const errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n    '4902': {\n        standard: 'EIP-3085',\n        message: 'Unrecognized chain ID.',\n    },\n};\n//# sourceMappingURL=constants.js.map","import { errorValues, standardErrorCodes } from './constants.js';\nconst FALLBACK_MESSAGE = 'Unspecified error message.';\nexport const JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n */\nexport function getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (code && Number.isInteger(code)) {\n        const codeString = code.toString();\n        if (hasKey(errorValues, codeString)) {\n            return errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n */\nexport function isValidCode(code) {\n    if (!Number.isInteger(code)) {\n        return false;\n    }\n    const codeString = code.toString();\n    if (errorValues[codeString]) {\n        return true;\n    }\n    if (isJsonRpcServerError(code)) {\n        return true;\n    }\n    return false;\n}\n/**\n * Returns the error code from an error object.\n */\nexport function getErrorCode(error) {\n    var _a;\n    if (typeof error === 'number') {\n        return error;\n    }\n    else if (isErrorWithCode(error)) {\n        return (_a = error.code) !== null && _a !== void 0 ? _a : error.errorCode;\n    }\n    return undefined;\n}\nfunction isErrorWithCode(error) {\n    return (typeof error === 'object' &&\n        error !== null &&\n        (typeof error.code === 'number' ||\n            typeof error.errorCode === 'number'));\n}\nexport function serialize(error, { shouldIncludeStack = false } = {}) {\n    const serialized = {};\n    if (error &&\n        typeof error === 'object' &&\n        !Array.isArray(error) &&\n        hasKey(error, 'code') &&\n        isValidCode(error.code)) {\n        const _error = error;\n        serialized.code = _error.code;\n        if (_error.message && typeof _error.message === 'string') {\n            serialized.message = _error.message;\n            if (hasKey(_error, 'data')) {\n                serialized.data = _error.data;\n            }\n        }\n        else {\n            serialized.message = getMessageFromCode(serialized.code);\n            serialized.data = { originalError: assignOriginalError(error) };\n        }\n    }\n    else {\n        serialized.code = standardErrorCodes.rpc.internal;\n        serialized.message = hasStringProperty(error, 'message') ? error.message : FALLBACK_MESSAGE;\n        serialized.data = { originalError: assignOriginalError(error) };\n    }\n    if (shouldIncludeStack) {\n        serialized.stack = hasStringProperty(error, 'stack') ? error.stack : undefined;\n    }\n    return serialized;\n}\n// Internal\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\nfunction assignOriginalError(error) {\n    if (error && typeof error === 'object' && !Array.isArray(error)) {\n        return Object.assign({}, error);\n    }\n    return error;\n}\nfunction hasKey(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\nfunction hasStringProperty(obj, prop) {\n    return (typeof obj === 'object' && obj !== null && prop in obj && typeof obj[prop] === 'string');\n}\n//# sourceMappingURL=utils.js.map","import { standardErrorCodes } from './constants.js';\nimport { getMessageFromCode } from './utils.js';\nexport const standardErrors = {\n    rpc: {\n        parse: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.parse, arg),\n        invalidRequest: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.invalidRequest, arg),\n        invalidParams: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.invalidParams, arg),\n        methodNotFound: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.methodNotFound, arg),\n        internal: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.internal, arg),\n        server: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum RPC Server errors must provide single object argument.');\n            }\n            const { code } = opts;\n            if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n                throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n            }\n            return getEthJsonRpcError(code, opts);\n        },\n        invalidInput: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.invalidInput, arg),\n        resourceNotFound: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.resourceNotFound, arg),\n        resourceUnavailable: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.resourceUnavailable, arg),\n        transactionRejected: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.transactionRejected, arg),\n        methodNotSupported: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.methodNotSupported, arg),\n        limitExceeded: (arg) => getEthJsonRpcError(standardErrorCodes.rpc.limitExceeded, arg),\n    },\n    provider: {\n        userRejectedRequest: (arg) => {\n            return getEthProviderError(standardErrorCodes.provider.userRejectedRequest, arg);\n        },\n        unauthorized: (arg) => {\n            return getEthProviderError(standardErrorCodes.provider.unauthorized, arg);\n        },\n        unsupportedMethod: (arg) => {\n            return getEthProviderError(standardErrorCodes.provider.unsupportedMethod, arg);\n        },\n        disconnected: (arg) => {\n            return getEthProviderError(standardErrorCodes.provider.disconnected, arg);\n        },\n        chainDisconnected: (arg) => {\n            return getEthProviderError(standardErrorCodes.provider.chainDisconnected, arg);\n        },\n        unsupportedChain: (arg) => {\n            return getEthProviderError(standardErrorCodes.provider.unsupportedChain, arg);\n        },\n        custom: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum Provider custom errors must provide single object argument.');\n            }\n            const { code, message, data } = opts;\n            if (!message || typeof message !== 'string') {\n                throw new Error('\"message\" must be a nonempty string');\n            }\n            return new EthereumProviderError(code, message, data);\n        },\n    },\n};\n// Internal\nfunction getEthJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new EthereumRpcError(code, message || getMessageFromCode(code), data);\n}\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new EthereumProviderError(code, message || getMessageFromCode(code), data);\n}\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message || undefined, data];\n        }\n    }\n    return [];\n}\nclass EthereumRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string.');\n        }\n        super(message);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nclass EthereumProviderError extends EthereumRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     * `code` must be an integer in the 1000 <= 4999 range.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\n//# sourceMappingURL=errors.js.map","export function OpaqueType() {\n    return (value) => value;\n}\nexport const HexString = OpaqueType();\nexport const AddressString = OpaqueType();\nexport const BigIntString = OpaqueType();\nexport function IntNumber(num) {\n    return Math.floor(num);\n}\nexport const RegExpString = OpaqueType();\n//# sourceMappingURL=index.js.map","/* eslint-disable @typescript-eslint/no-explicit-any */\n// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport { standardErrors } from '../error/errors.js';\nimport { AddressString, BigIntString, HexString, IntNumber, RegExpString } from './index.js';\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n/**\n * @param length number of bytes\n */\nexport function randomBytesHex(length) {\n    return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(length)));\n}\nexport function uint8ArrayToHex(value) {\n    return [...value].map((b) => b.toString(16).padStart(2, '0')).join('');\n}\nexport function hexStringToUint8Array(hexString) {\n    return new Uint8Array(hexString.match(/.{1,2}/g).map((byte) => Number.parseInt(byte, 16)));\n}\nexport function hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString('hex');\n    return HexString(includePrefix ? `0x${hex}` : hex);\n}\nexport function encodeToHexString(str) {\n    return hexStringFromBuffer(ensureBuffer(str), true);\n}\nexport function bigIntStringFromBigInt(bi) {\n    return BigIntString(bi.toString(10));\n}\nexport function intNumberFromHexString(hex) {\n    return IntNumber(Number(BigInt(ensureEvenLengthHexString(hex, true))));\n}\nexport function hexStringFromNumber(num) {\n    return HexString(`0x${BigInt(num).toString(16)}`);\n}\nexport function has0xPrefix(str) {\n    return str.startsWith('0x') || str.startsWith('0X');\n}\nexport function strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexport function prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return `0x${hex.slice(2)}`;\n    }\n    return `0x${hex}`;\n}\nexport function isHexString(hex) {\n    if (typeof hex !== 'string') {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexport function ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === 'string') {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return HexString(includePrefix ? `0x${s}` : s);\n        }\n    }\n    throw standardErrors.rpc.invalidParams(`\"${String(hex)}\" is not a hexadecimal string`);\n}\nexport function ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = HexString(`0${h}`);\n    }\n    return includePrefix ? HexString(`0x${h}`) : h;\n}\nexport function ensureAddressString(str) {\n    if (typeof str === 'string') {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return AddressString(prepend0x(s));\n        }\n    }\n    throw standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(str)}`);\n}\nexport function ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === 'string') {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, 'hex');\n        }\n        return Buffer.from(str, 'utf8');\n    }\n    throw standardErrors.rpc.invalidParams(`Not binary data: ${String(str)}`);\n}\nexport function ensureIntNumber(num) {\n    if (typeof num === 'number' && Number.isInteger(num)) {\n        return IntNumber(num);\n    }\n    if (typeof num === 'string') {\n        if (INT_STRING_REGEX.test(num)) {\n            return IntNumber(Number(num));\n        }\n        if (isHexString(num)) {\n            return IntNumber(Number(BigInt(ensureEvenLengthHexString(num, true))));\n        }\n    }\n    throw standardErrors.rpc.invalidParams(`Not an integer: ${String(num)}`);\n}\nexport function ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return RegExpString(regExp.toString());\n    }\n    throw standardErrors.rpc.invalidParams(`Not a RegExp: ${String(regExp)}`);\n}\nexport function ensureBigInt(val) {\n    if (val !== null && (typeof val === 'bigint' || isBigNumber(val))) {\n        return BigInt(val.toString(10));\n    }\n    if (typeof val === 'number') {\n        return BigInt(ensureIntNumber(val));\n    }\n    if (typeof val === 'string') {\n        if (INT_STRING_REGEX.test(val)) {\n            return BigInt(val);\n        }\n        if (isHexString(val)) {\n            return BigInt(ensureEvenLengthHexString(val, true));\n        }\n    }\n    throw standardErrors.rpc.invalidParams(`Not an integer: ${String(val)}`);\n}\nexport function ensureParsedJSONObject(val) {\n    if (typeof val === 'string') {\n        return JSON.parse(val);\n    }\n    if (typeof val === 'object') {\n        return val;\n    }\n    throw standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(val)}`);\n}\nexport function isBigNumber(val) {\n    if (val == null || typeof val.constructor !== 'function') {\n        return false;\n    }\n    const { constructor } = val;\n    return typeof constructor.config === 'function' && typeof constructor.EUCLID === 'number';\n}\nexport function range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexport function getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute('href') : null;\n    if (!href || href.startsWith('javascript:') || href.startsWith('vbscript:')) {\n        return `${protocol}//${host}/favicon.ico`; // fallback\n    }\n    if (href.startsWith('http://') || href.startsWith('https://') || href.startsWith('data:')) {\n        return href;\n    }\n    if (href.startsWith('//')) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexport function areAddressArraysEqual(arr1, arr2) {\n    return arr1.length === arr2.length && arr1.every((value, index) => value === arr2[index]);\n}\n//# sourceMappingURL=util.js.map","import { hexStringToUint8Array, uint8ArrayToHex } from '../core/type/util.js';\nexport async function generateKeyPair() {\n    return crypto.subtle.generateKey({\n        name: 'ECDH',\n        namedCurve: 'P-256',\n    }, true, ['deriveKey']);\n}\nexport async function deriveSharedSecret(ownPrivateKey, peerPublicKey) {\n    return crypto.subtle.deriveKey({\n        name: 'ECDH',\n        public: peerPublicKey,\n    }, ownPrivateKey, {\n        name: 'AES-GCM',\n        length: 256,\n    }, false, ['encrypt', 'decrypt']);\n}\nexport async function encrypt(sharedSecret, plainText) {\n    const iv = crypto.getRandomValues(new Uint8Array(12));\n    const cipherText = await crypto.subtle.encrypt({\n        name: 'AES-GCM',\n        iv,\n    }, sharedSecret, new TextEncoder().encode(plainText));\n    return { iv, cipherText };\n}\nexport async function decrypt(sharedSecret, { iv, cipherText }) {\n    const plainText = await crypto.subtle.decrypt({\n        name: 'AES-GCM',\n        iv,\n    }, sharedSecret, cipherText);\n    return new TextDecoder().decode(plainText);\n}\nfunction getFormat(keyType) {\n    switch (keyType) {\n        case 'public':\n            return 'spki';\n        case 'private':\n            return 'pkcs8';\n    }\n}\nexport async function exportKeyToHexString(type, key) {\n    const format = getFormat(type);\n    const exported = await crypto.subtle.exportKey(format, key);\n    return uint8ArrayToHex(new Uint8Array(exported));\n}\nexport async function importKeyFromHexString(type, hexString) {\n    const format = getFormat(type);\n    const arrayBuffer = hexStringToUint8Array(hexString).buffer;\n    return await crypto.subtle.importKey(format, new Uint8Array(arrayBuffer), {\n        name: 'ECDH',\n        namedCurve: 'P-256',\n    }, true, type === 'private' ? ['deriveKey'] : []);\n}\nexport async function encryptContent(content, sharedSecret) {\n    const serialized = JSON.stringify(content, (_, value) => {\n        if (!(value instanceof Error))\n            return value;\n        const error = value;\n        return Object.assign(Object.assign({}, (error.code ? { code: error.code } : {})), { message: error.message });\n    });\n    return encrypt(sharedSecret, serialized);\n}\nexport async function decryptContent(encryptedData, sharedSecret) {\n    return JSON.parse(await decrypt(sharedSecret, encryptedData));\n}\n//# sourceMappingURL=cipher.js.map","import { ScopedLocalStorage } from '../../core/storage/ScopedLocalStorage.js';\nimport { deriveSharedSecret, exportKeyToHexString, generateKeyPair, importKeyFromHexString, } from '../../util/cipher.js';\nconst OWN_PRIVATE_KEY = {\n    storageKey: 'ownPrivateKey',\n    keyType: 'private',\n};\nconst OWN_PUBLIC_KEY = {\n    storageKey: 'ownPublicKey',\n    keyType: 'public',\n};\nconst PEER_PUBLIC_KEY = {\n    storageKey: 'peerPublicKey',\n    keyType: 'public',\n};\nexport class SCWKeyManager {\n    constructor() {\n        this.storage = new ScopedLocalStorage('CBWSDK', 'SCWKeyManager');\n        this.ownPrivateKey = null;\n        this.ownPublicKey = null;\n        this.peerPublicKey = null;\n        this.sharedSecret = null;\n    }\n    async getOwnPublicKey() {\n        await this.loadKeysIfNeeded();\n        return this.ownPublicKey;\n    }\n    // returns null if the shared secret is not yet derived\n    async getSharedSecret() {\n        await this.loadKeysIfNeeded();\n        return this.sharedSecret;\n    }\n    async setPeerPublicKey(key) {\n        this.sharedSecret = null;\n        this.peerPublicKey = key;\n        await this.storeKey(PEER_PUBLIC_KEY, key);\n        await this.loadKeysIfNeeded();\n    }\n    async clear() {\n        this.ownPrivateKey = null;\n        this.ownPublicKey = null;\n        this.peerPublicKey = null;\n        this.sharedSecret = null;\n        this.storage.removeItem(OWN_PUBLIC_KEY.storageKey);\n        this.storage.removeItem(OWN_PRIVATE_KEY.storageKey);\n        this.storage.removeItem(PEER_PUBLIC_KEY.storageKey);\n    }\n    async generateKeyPair() {\n        const newKeyPair = await generateKeyPair();\n        this.ownPrivateKey = newKeyPair.privateKey;\n        this.ownPublicKey = newKeyPair.publicKey;\n        await this.storeKey(OWN_PRIVATE_KEY, newKeyPair.privateKey);\n        await this.storeKey(OWN_PUBLIC_KEY, newKeyPair.publicKey);\n    }\n    async loadKeysIfNeeded() {\n        if (this.ownPrivateKey === null) {\n            this.ownPrivateKey = await this.loadKey(OWN_PRIVATE_KEY);\n        }\n        if (this.ownPublicKey === null) {\n            this.ownPublicKey = await this.loadKey(OWN_PUBLIC_KEY);\n        }\n        if (this.ownPrivateKey === null || this.ownPublicKey === null) {\n            await this.generateKeyPair();\n        }\n        if (this.peerPublicKey === null) {\n            this.peerPublicKey = await this.loadKey(PEER_PUBLIC_KEY);\n        }\n        if (this.sharedSecret === null) {\n            if (this.ownPrivateKey === null || this.peerPublicKey === null)\n                return;\n            this.sharedSecret = await deriveSharedSecret(this.ownPrivateKey, this.peerPublicKey);\n        }\n    }\n    // storage methods\n    async loadKey(item) {\n        const key = this.storage.getItem(item.storageKey);\n        if (!key)\n            return null;\n        return importKeyFromHexString(item.keyType, key);\n    }\n    async storeKey(item, key) {\n        const hexString = await exportKeyToHexString(item.keyType, key);\n        this.storage.setItem(item.storageKey, hexString);\n    }\n}\n//# sourceMappingURL=SCWKeyManager.js.map","export const VERSION = '4.3.0';\nexport const NAME = '@coinbase/wallet-sdk';\n//# sourceMappingURL=sdk-info.js.map","import { NAME, VERSION } from '../sdk-info.js';\nimport { standardErrors } from '../core/error/errors.js';\nexport async function fetchRPCRequest(request, rpcUrl) {\n    const requestBody = Object.assign(Object.assign({}, request), { jsonrpc: '2.0', id: crypto.randomUUID() });\n    const res = await window.fetch(rpcUrl, {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        mode: 'cors',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-Cbw-Sdk-Version': VERSION,\n            'X-Cbw-Sdk-Platform': NAME,\n        },\n    });\n    const { result, error } = await res.json();\n    if (error)\n        throw error;\n    return result;\n}\nfunction getCoinbaseInjectedLegacyProvider() {\n    const window = globalThis;\n    return window.coinbaseWalletExtension;\n}\nfunction getInjectedEthereum() {\n    var _a, _b;\n    try {\n        const window = globalThis;\n        return (_a = window.ethereum) !== null && _a !== void 0 ? _a : (_b = window.top) === null || _b === void 0 ? void 0 : _b.ethereum;\n    }\n    catch (_c) {\n        return undefined;\n    }\n}\nexport function getCoinbaseInjectedProvider({ metadata, preference, }) {\n    var _a, _b;\n    const { appName, appLogoUrl, appChainIds } = metadata;\n    if (preference.options !== 'smartWalletOnly') {\n        const extension = getCoinbaseInjectedLegacyProvider();\n        if (extension) {\n            (_a = extension.setAppInfo) === null || _a === void 0 ? void 0 : _a.call(extension, appName, appLogoUrl, appChainIds, preference);\n            return extension;\n        }\n    }\n    const ethereum = getInjectedEthereum();\n    if (ethereum === null || ethereum === void 0 ? void 0 : ethereum.isCoinbaseBrowser) {\n        (_b = ethereum.setAppInfo) === null || _b === void 0 ? void 0 : _b.call(ethereum, appName, appLogoUrl, appChainIds, preference);\n        return ethereum;\n    }\n    return undefined;\n}\n/**\n * Validates the arguments for an invalid request and returns an error if any validation fails.\n * Valid request args are defined here: https://eips.ethereum.org/EIPS/eip-1193#request\n * @param args The request arguments to validate.\n * @returns An error object if the arguments are invalid, otherwise undefined.\n */\nexport function checkErrorForInvalidRequestArgs(args) {\n    if (!args || typeof args !== 'object' || Array.isArray(args)) {\n        throw standardErrors.rpc.invalidParams({\n            message: 'Expected a single, non-array, object argument.',\n            data: args,\n        });\n    }\n    const { method, params } = args;\n    if (typeof method !== 'string' || method.length === 0) {\n        throw standardErrors.rpc.invalidParams({\n            message: \"'args.method' must be a non-empty string.\",\n            data: args,\n        });\n    }\n    if (params !== undefined &&\n        !Array.isArray(params) &&\n        (typeof params !== 'object' || params === null)) {\n        throw standardErrors.rpc.invalidParams({\n            message: \"'args.params' must be an object or array if provided.\",\n            data: args,\n        });\n    }\n    switch (method) {\n        case 'eth_sign':\n        case 'eth_signTypedData_v2':\n        case 'eth_subscribe':\n        case 'eth_unsubscribe':\n            throw standardErrors.provider.unsupportedMethod();\n    }\n}\n//# sourceMappingURL=provider.js.map","import { SCWKeyManager } from './SCWKeyManager.js';\nimport { standardErrors } from '../../core/error/errors.js';\nimport { ScopedLocalStorage } from '../../core/storage/ScopedLocalStorage.js';\nimport { ensureIntNumber, hexStringFromNumber } from '../../core/type/util.js';\nimport { decryptContent, encryptContent, exportKeyToHexString, importKeyFromHexString, } from '../../util/cipher.js';\nimport { fetchRPCRequest } from '../../util/provider.js';\nconst ACCOUNTS_KEY = 'accounts';\nconst ACTIVE_CHAIN_STORAGE_KEY = 'activeChain';\nconst AVAILABLE_CHAINS_STORAGE_KEY = 'availableChains';\nconst WALLET_CAPABILITIES_STORAGE_KEY = 'walletCapabilities';\nexport class SCWSigner {\n    constructor(params) {\n        var _a, _b, _c;\n        this.metadata = params.metadata;\n        this.communicator = params.communicator;\n        this.callback = params.callback;\n        this.keyManager = new SCWKeyManager();\n        this.storage = new ScopedLocalStorage('CBWSDK', 'SCWStateManager');\n        this.accounts = (_a = this.storage.loadObject(ACCOUNTS_KEY)) !== null && _a !== void 0 ? _a : [];\n        this.chain = this.storage.loadObject(ACTIVE_CHAIN_STORAGE_KEY) || {\n            id: (_c = (_b = params.metadata.appChainIds) === null || _b === void 0 ? void 0 : _b[0]) !== null && _c !== void 0 ? _c : 1,\n        };\n        this.handshake = this.handshake.bind(this);\n        this.request = this.request.bind(this);\n        this.createRequestMessage = this.createRequestMessage.bind(this);\n        this.decryptResponseMessage = this.decryptResponseMessage.bind(this);\n    }\n    async handshake(args) {\n        var _a, _b, _c, _d;\n        // Open the popup before constructing the request message.\n        // This is to ensure that the popup is not blocked by some browsers (i.e. Safari)\n        await ((_b = (_a = this.communicator).waitForPopupLoaded) === null || _b === void 0 ? void 0 : _b.call(_a));\n        const handshakeMessage = await this.createRequestMessage({\n            handshake: {\n                method: args.method,\n                params: Object.assign({}, this.metadata, (_c = args.params) !== null && _c !== void 0 ? _c : {}),\n            },\n        });\n        const response = await this.communicator.postRequestAndWaitForResponse(handshakeMessage);\n        // store peer's public key\n        if ('failure' in response.content)\n            throw response.content.failure;\n        const peerPublicKey = await importKeyFromHexString('public', response.sender);\n        await this.keyManager.setPeerPublicKey(peerPublicKey);\n        const decrypted = await this.decryptResponseMessage(response);\n        const result = decrypted.result;\n        if ('error' in result)\n            throw result.error;\n        switch (args.method) {\n            case 'eth_requestAccounts': {\n                const accounts = result.value;\n                this.accounts = accounts;\n                this.storage.storeObject(ACCOUNTS_KEY, accounts);\n                (_d = this.callback) === null || _d === void 0 ? void 0 : _d.call(this, 'accountsChanged', accounts);\n                break;\n            }\n        }\n    }\n    async request(request) {\n        var _a;\n        if (this.accounts.length === 0) {\n            switch (request.method) {\n                case 'wallet_sendCalls':\n                    return this.sendRequestToPopup(request);\n                default:\n                    throw standardErrors.provider.unauthorized();\n            }\n        }\n        switch (request.method) {\n            case 'eth_requestAccounts':\n                (_a = this.callback) === null || _a === void 0 ? void 0 : _a.call(this, 'connect', { chainId: hexStringFromNumber(this.chain.id) });\n                return this.accounts;\n            case 'eth_accounts':\n                return this.accounts;\n            case 'eth_coinbase':\n                return this.accounts[0];\n            case 'net_version':\n                return this.chain.id;\n            case 'eth_chainId':\n                return hexStringFromNumber(this.chain.id);\n            case 'wallet_getCapabilities':\n                return this.storage.loadObject(WALLET_CAPABILITIES_STORAGE_KEY);\n            case 'wallet_switchEthereumChain':\n                return this.handleSwitchChainRequest(request);\n            case 'eth_ecRecover':\n            case 'personal_sign':\n            case 'wallet_sign':\n            case 'personal_ecRecover':\n            case 'eth_signTransaction':\n            case 'eth_sendTransaction':\n            case 'eth_signTypedData_v1':\n            case 'eth_signTypedData_v3':\n            case 'eth_signTypedData_v4':\n            case 'eth_signTypedData':\n            case 'wallet_addEthereumChain':\n            case 'wallet_watchAsset':\n            case 'wallet_sendCalls':\n            case 'wallet_showCallsStatus':\n            case 'wallet_grantPermissions':\n                return this.sendRequestToPopup(request);\n            default:\n                if (!this.chain.rpcUrl)\n                    throw standardErrors.rpc.internal('No RPC URL set for chain');\n                return fetchRPCRequest(request, this.chain.rpcUrl);\n        }\n    }\n    async sendRequestToPopup(request) {\n        var _a, _b;\n        // Open the popup before constructing the request message.\n        // This is to ensure that the popup is not blocked by some browsers (i.e. Safari)\n        await ((_b = (_a = this.communicator).waitForPopupLoaded) === null || _b === void 0 ? void 0 : _b.call(_a));\n        const response = await this.sendEncryptedRequest(request);\n        const decrypted = await this.decryptResponseMessage(response);\n        const result = decrypted.result;\n        if ('error' in result)\n            throw result.error;\n        return result.value;\n    }\n    async cleanup() {\n        var _a, _b;\n        this.storage.clear();\n        await this.keyManager.clear();\n        this.accounts = [];\n        this.chain = {\n            id: (_b = (_a = this.metadata.appChainIds) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : 1,\n        };\n    }\n    /**\n     * @returns `null` if the request was successful.\n     * https://eips.ethereum.org/EIPS/eip-3326#wallet_switchethereumchain\n     */\n    async handleSwitchChainRequest(request) {\n        var _a;\n        const params = request.params;\n        if (!params || !((_a = params[0]) === null || _a === void 0 ? void 0 : _a.chainId)) {\n            throw standardErrors.rpc.invalidParams();\n        }\n        const chainId = ensureIntNumber(params[0].chainId);\n        const localResult = this.updateChain(chainId);\n        if (localResult)\n            return null;\n        const popupResult = await this.sendRequestToPopup(request);\n        if (popupResult === null) {\n            this.updateChain(chainId);\n        }\n        return popupResult;\n    }\n    async sendEncryptedRequest(request) {\n        const sharedSecret = await this.keyManager.getSharedSecret();\n        if (!sharedSecret) {\n            throw standardErrors.provider.unauthorized('No valid session found, try requestAccounts before other methods');\n        }\n        const encrypted = await encryptContent({\n            action: request,\n            chainId: this.chain.id,\n        }, sharedSecret);\n        const message = await this.createRequestMessage({ encrypted });\n        return this.communicator.postRequestAndWaitForResponse(message);\n    }\n    async createRequestMessage(content) {\n        const publicKey = await exportKeyToHexString('public', await this.keyManager.getOwnPublicKey());\n        return {\n            id: crypto.randomUUID(),\n            sender: publicKey,\n            content,\n            timestamp: new Date(),\n        };\n    }\n    async decryptResponseMessage(message) {\n        var _a, _b;\n        const content = message.content;\n        // throw protocol level error\n        if ('failure' in content) {\n            throw content.failure;\n        }\n        const sharedSecret = await this.keyManager.getSharedSecret();\n        if (!sharedSecret) {\n            throw standardErrors.provider.unauthorized('Invalid session');\n        }\n        const response = await decryptContent(content.encrypted, sharedSecret);\n        const availableChains = (_a = response.data) === null || _a === void 0 ? void 0 : _a.chains;\n        if (availableChains) {\n            const chains = Object.entries(availableChains).map(([id, rpcUrl]) => ({\n                id: Number(id),\n                rpcUrl,\n            }));\n            this.storage.storeObject(AVAILABLE_CHAINS_STORAGE_KEY, chains);\n            this.updateChain(this.chain.id, chains);\n        }\n        const walletCapabilities = (_b = response.data) === null || _b === void 0 ? void 0 : _b.capabilities;\n        if (walletCapabilities) {\n            this.storage.storeObject(WALLET_CAPABILITIES_STORAGE_KEY, walletCapabilities);\n        }\n        return response;\n    }\n    updateChain(chainId, newAvailableChains) {\n        var _a;\n        const chains = newAvailableChains !== null && newAvailableChains !== void 0 ? newAvailableChains : this.storage.loadObject(AVAILABLE_CHAINS_STORAGE_KEY);\n        const chain = chains === null || chains === void 0 ? void 0 : chains.find((chain) => chain.id === chainId);\n        if (!chain)\n            return false;\n        if (chain !== this.chain) {\n            this.chain = chain;\n            this.storage.storeObject(ACTIVE_CHAIN_STORAGE_KEY, chain);\n            (_a = this.callback) === null || _a === void 0 ? void 0 : _a.call(this, 'chainChanged', hexStringFromNumber(chain.id));\n        }\n        return true;\n    }\n}\n//# sourceMappingURL=SCWSigner.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toBig = exports.shrSL = exports.shrSH = exports.rotrSL = exports.rotrSH = exports.rotrBL = exports.rotrBH = exports.rotr32L = exports.rotr32H = exports.rotlSL = exports.rotlSH = exports.rotlBL = exports.rotlBH = exports.add5L = exports.add5H = exports.add4L = exports.add4H = exports.add3L = exports.add3H = void 0;\nexports.add = add;\nexports.fromBig = fromBig;\nexports.split = split;\n/**\n * Internal helpers for u64. BigUint64Array is too slow as per 2025, so we implement it using Uint32Array.\n * @todo re-check https://issues.chromium.org/issues/42212588\n * @module\n */\nconst U32_MASK64 = /* @__PURE__ */ BigInt(2 ** 32 - 1);\nconst _32n = /* @__PURE__ */ BigInt(32);\nfunction fromBig(n, le = false) {\n    if (le)\n        return { h: Number(n & U32_MASK64), l: Number((n >> _32n) & U32_MASK64) };\n    return { h: Number((n >> _32n) & U32_MASK64) | 0, l: Number(n & U32_MASK64) | 0 };\n}\nfunction split(lst, le = false) {\n    const len = lst.length;\n    let Ah = new Uint32Array(len);\n    let Al = new Uint32Array(len);\n    for (let i = 0; i < len; i++) {\n        const { h, l } = fromBig(lst[i], le);\n        [Ah[i], Al[i]] = [h, l];\n    }\n    return [Ah, Al];\n}\nconst toBig = (h, l) => (BigInt(h >>> 0) << _32n) | BigInt(l >>> 0);\nexports.toBig = toBig;\n// for Shift in [0, 32)\nconst shrSH = (h, _l, s) => h >>> s;\nexports.shrSH = shrSH;\nconst shrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\nexports.shrSL = shrSL;\n// Right rotate for Shift in [1, 32)\nconst rotrSH = (h, l, s) => (h >>> s) | (l << (32 - s));\nexports.rotrSH = rotrSH;\nconst rotrSL = (h, l, s) => (h << (32 - s)) | (l >>> s);\nexports.rotrSL = rotrSL;\n// Right rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotrBH = (h, l, s) => (h << (64 - s)) | (l >>> (s - 32));\nexports.rotrBH = rotrBH;\nconst rotrBL = (h, l, s) => (h >>> (s - 32)) | (l << (64 - s));\nexports.rotrBL = rotrBL;\n// Right rotate for shift===32 (just swaps l&h)\nconst rotr32H = (_h, l) => l;\nexports.rotr32H = rotr32H;\nconst rotr32L = (h, _l) => h;\nexports.rotr32L = rotr32L;\n// Left rotate for Shift in [1, 32)\nconst rotlSH = (h, l, s) => (h << s) | (l >>> (32 - s));\nexports.rotlSH = rotlSH;\nconst rotlSL = (h, l, s) => (l << s) | (h >>> (32 - s));\nexports.rotlSL = rotlSL;\n// Left rotate for Shift in (32, 64), NOTE: 32 is special case.\nconst rotlBH = (h, l, s) => (l << (s - 32)) | (h >>> (64 - s));\nexports.rotlBH = rotlBH;\nconst rotlBL = (h, l, s) => (h << (s - 32)) | (l >>> (64 - s));\nexports.rotlBL = rotlBL;\n// JS uses 32-bit signed integers for bitwise operations which means we cannot\n// simple take carry out of low bit sum by shift, we need to use division.\nfunction add(Ah, Al, Bh, Bl) {\n    const l = (Al >>> 0) + (Bl >>> 0);\n    return { h: (Ah + Bh + ((l / 2 ** 32) | 0)) | 0, l: l | 0 };\n}\n// Addition with more than 2 elements\nconst add3L = (Al, Bl, Cl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0);\nexports.add3L = add3L;\nconst add3H = (low, Ah, Bh, Ch) => (Ah + Bh + Ch + ((low / 2 ** 32) | 0)) | 0;\nexports.add3H = add3H;\nconst add4L = (Al, Bl, Cl, Dl) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0);\nexports.add4L = add4L;\nconst add4H = (low, Ah, Bh, Ch, Dh) => (Ah + Bh + Ch + Dh + ((low / 2 ** 32) | 0)) | 0;\nexports.add4H = add4H;\nconst add5L = (Al, Bl, Cl, Dl, El) => (Al >>> 0) + (Bl >>> 0) + (Cl >>> 0) + (Dl >>> 0) + (El >>> 0);\nexports.add5L = add5L;\nconst add5H = (low, Ah, Bh, Ch, Dh, Eh) => (Ah + Bh + Ch + Dh + Eh + ((low / 2 ** 32) | 0)) | 0;\nexports.add5H = add5H;\n// prettier-ignore\nconst u64 = {\n    fromBig, split, toBig,\n    shrSH, shrSL,\n    rotrSH, rotrSL, rotrBH, rotrBL,\n    rotr32H, rotr32L,\n    rotlSH, rotlSL, rotlBH, rotlBL,\n    add, add3L, add3H, add4L, add4H, add5H, add5L,\n};\nexports.default = u64;\n//# sourceMappingURL=_u64.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.crypto = void 0;\nexports.crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","\"use strict\";\n/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.wrapXOFConstructorWithOpts = exports.wrapConstructorWithOpts = exports.wrapConstructor = exports.Hash = exports.nextTick = exports.swap32IfBE = exports.byteSwapIfBE = exports.swap8IfBE = exports.isLE = void 0;\nexports.isBytes = isBytes;\nexports.anumber = anumber;\nexports.abytes = abytes;\nexports.ahash = ahash;\nexports.aexists = aexists;\nexports.aoutput = aoutput;\nexports.u8 = u8;\nexports.u32 = u32;\nexports.clean = clean;\nexports.createView = createView;\nexports.rotr = rotr;\nexports.rotl = rotl;\nexports.byteSwap = byteSwap;\nexports.byteSwap32 = byteSwap32;\nexports.bytesToHex = bytesToHex;\nexports.hexToBytes = hexToBytes;\nexports.asyncLoop = asyncLoop;\nexports.utf8ToBytes = utf8ToBytes;\nexports.bytesToUtf8 = bytesToUtf8;\nexports.toBytes = toBytes;\nexports.kdfInputToBytes = kdfInputToBytes;\nexports.concatBytes = concatBytes;\nexports.checkOpts = checkOpts;\nexports.createHasher = createHasher;\nexports.createOptHasher = createOptHasher;\nexports.createXOFer = createXOFer;\nexports.randomBytes = randomBytes;\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nconst crypto_1 = require(\"@noble/hashes/crypto\");\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nfunction isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is positive integer. */\nfunction anumber(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error('positive integer expected, got ' + n);\n}\n/** Asserts something is Uint8Array. */\nfunction abytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n/** Asserts something is hash */\nfunction ahash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.createHasher');\n    anumber(h.outputLen);\n    anumber(h.blockLen);\n}\n/** Asserts a hash instance has not been destroyed / finished */\nfunction aexists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\n/** Asserts output is properly-sized byte array */\nfunction aoutput(out, instance) {\n    abytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error('digestInto() expects output buffer of length at least ' + min);\n    }\n}\n/** Cast u8 / u16 / u32 to u8. */\nfunction u8(arr) {\n    return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** Cast u8 / u16 / u32 to u32. */\nfunction u32(arr) {\n    return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nfunction clean(...arrays) {\n    for (let i = 0; i < arrays.length; i++) {\n        arrays[i].fill(0);\n    }\n}\n/** Create DataView of an array for easy byte-level manipulation. */\nfunction createView(arr) {\n    return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** The rotate right (circular right shift) operation for uint32 */\nfunction rotr(word, shift) {\n    return (word << (32 - shift)) | (word >>> shift);\n}\n/** The rotate left (circular left shift) operation for uint32 */\nfunction rotl(word, shift) {\n    return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexports.isLE = (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n/** The byte swap operation for uint32 */\nfunction byteSwap(word) {\n    return (((word << 24) & 0xff000000) |\n        ((word << 8) & 0xff0000) |\n        ((word >>> 8) & 0xff00) |\n        ((word >>> 24) & 0xff));\n}\n/** Conditionally byte swap if on a big-endian platform */\nexports.swap8IfBE = exports.isLE\n    ? (n) => n\n    : (n) => byteSwap(n);\n/** @deprecated */\nexports.byteSwapIfBE = exports.swap8IfBE;\n/** In place byte swap for Uint32Array */\nfunction byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n    return arr;\n}\nexports.swap32IfBE = exports.isLE\n    ? (u) => u\n    : byteSwap32;\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin = /* @__PURE__ */ (() => \n// @ts-ignore\ntypeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nfunction bytesToHex(bytes) {\n    abytes(bytes);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return bytes.toHex();\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nfunction hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return Uint8Array.fromHex(hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nconst nextTick = async () => { };\nexports.nextTick = nextTick;\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nasync function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await (0, exports.nextTick)();\n        ts += diff;\n    }\n}\n/**\n * Converts string to bytes using UTF8 encoding.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nfunction utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\nfunction bytesToUtf8(bytes) {\n    return new TextDecoder().decode(bytes);\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nfunction toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nfunction kdfInputToBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/** Copies several Uint8Arrays into one. */\nfunction concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\nfunction checkOpts(defaults, opts) {\n    if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n        throw new Error('options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\n/** For runtime check if class implements interface */\nclass Hash {\n}\nexports.Hash = Hash;\n/** Wraps hash function, creating an interface on top of it */\nfunction createHasher(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nfunction createOptHasher(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nfunction createXOFer(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexports.wrapConstructor = createHasher;\nexports.wrapConstructorWithOpts = createOptHasher;\nexports.wrapXOFConstructorWithOpts = createXOFer;\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nfunction randomBytes(bytesLength = 32) {\n    if (crypto_1.crypto && typeof crypto_1.crypto.getRandomValues === 'function') {\n        return crypto_1.crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    // Legacy Node.js compatibility\n    if (crypto_1.crypto && typeof crypto_1.crypto.randomBytes === 'function') {\n        return Uint8Array.from(crypto_1.crypto.randomBytes(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shake256 = exports.shake128 = exports.keccak_512 = exports.keccak_384 = exports.keccak_256 = exports.keccak_224 = exports.sha3_512 = exports.sha3_384 = exports.sha3_256 = exports.sha3_224 = exports.Keccak = void 0;\nexports.keccakP = keccakP;\n/**\n * SHA3 (keccak) hash function, based on a new \"Sponge function\" design.\n * Different from older hashes, the internal state is bigger than output size.\n *\n * Check out [FIPS-202](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.202.pdf),\n * [Website](https://keccak.team/keccak.html),\n * [the differences between SHA-3 and Keccak](https://crypto.stackexchange.com/questions/15727/what-are-the-key-differences-between-the-draft-sha-3-standard-and-the-keccak-sub).\n *\n * Check out `sha3-addons` module for cSHAKE, k12, and others.\n * @module\n */\nconst _u64_ts_1 = require(\"./_u64.js\");\n// prettier-ignore\nconst utils_ts_1 = require(\"./utils.js\");\n// No __PURE__ annotations in sha3 header:\n// EVERYTHING is in fact used on every export.\n// Various per round constants calculations\nconst _0n = BigInt(0);\nconst _1n = BigInt(1);\nconst _2n = BigInt(2);\nconst _7n = BigInt(7);\nconst _256n = BigInt(256);\nconst _0x71n = BigInt(0x71);\nconst SHA3_PI = [];\nconst SHA3_ROTL = [];\nconst _SHA3_IOTA = [];\nfor (let round = 0, R = _1n, x = 1, y = 0; round < 24; round++) {\n    // Pi\n    [x, y] = [y, (2 * x + 3 * y) % 5];\n    SHA3_PI.push(2 * (5 * y + x));\n    // Rotational\n    SHA3_ROTL.push((((round + 1) * (round + 2)) / 2) % 64);\n    // Iota\n    let t = _0n;\n    for (let j = 0; j < 7; j++) {\n        R = ((R << _1n) ^ ((R >> _7n) * _0x71n)) % _256n;\n        if (R & _2n)\n            t ^= _1n << ((_1n << /* @__PURE__ */ BigInt(j)) - _1n);\n    }\n    _SHA3_IOTA.push(t);\n}\nconst IOTAS = (0, _u64_ts_1.split)(_SHA3_IOTA, true);\nconst SHA3_IOTA_H = IOTAS[0];\nconst SHA3_IOTA_L = IOTAS[1];\n// Left rotation (without 0, 32, 64)\nconst rotlH = (h, l, s) => (s > 32 ? (0, _u64_ts_1.rotlBH)(h, l, s) : (0, _u64_ts_1.rotlSH)(h, l, s));\nconst rotlL = (h, l, s) => (s > 32 ? (0, _u64_ts_1.rotlBL)(h, l, s) : (0, _u64_ts_1.rotlSL)(h, l, s));\n/** `keccakf1600` internal function, additionally allows to adjust round count. */\nfunction keccakP(s, rounds = 24) {\n    const B = new Uint32Array(5 * 2);\n    // NOTE: all indices are x2 since we store state as u32 instead of u64 (bigints to slow in js)\n    for (let round = 24 - rounds; round < 24; round++) {\n        // Theta \n        for (let x = 0; x < 10; x++)\n            B[x] = s[x] ^ s[x + 10] ^ s[x + 20] ^ s[x + 30] ^ s[x + 40];\n        for (let x = 0; x < 10; x += 2) {\n            const idx1 = (x + 8) % 10;\n            const idx0 = (x + 2) % 10;\n            const B0 = B[idx0];\n            const B1 = B[idx0 + 1];\n            const Th = rotlH(B0, B1, 1) ^ B[idx1];\n            const Tl = rotlL(B0, B1, 1) ^ B[idx1 + 1];\n            for (let y = 0; y < 50; y += 10) {\n                s[x + y] ^= Th;\n                s[x + y + 1] ^= Tl;\n            }\n        }\n        // Rho () and Pi ()\n        let curH = s[2];\n        let curL = s[3];\n        for (let t = 0; t < 24; t++) {\n            const shift = SHA3_ROTL[t];\n            const Th = rotlH(curH, curL, shift);\n            const Tl = rotlL(curH, curL, shift);\n            const PI = SHA3_PI[t];\n            curH = s[PI];\n            curL = s[PI + 1];\n            s[PI] = Th;\n            s[PI + 1] = Tl;\n        }\n        // Chi ()\n        for (let y = 0; y < 50; y += 10) {\n            for (let x = 0; x < 10; x++)\n                B[x] = s[y + x];\n            for (let x = 0; x < 10; x++)\n                s[y + x] ^= ~B[(x + 2) % 10] & B[(x + 4) % 10];\n        }\n        // Iota ()\n        s[0] ^= SHA3_IOTA_H[round];\n        s[1] ^= SHA3_IOTA_L[round];\n    }\n    (0, utils_ts_1.clean)(B);\n}\n/** Keccak sponge function. */\nclass Keccak extends utils_ts_1.Hash {\n    // NOTE: we accept arguments in bytes instead of bits here.\n    constructor(blockLen, suffix, outputLen, enableXOF = false, rounds = 24) {\n        super();\n        this.pos = 0;\n        this.posOut = 0;\n        this.finished = false;\n        this.destroyed = false;\n        this.enableXOF = false;\n        this.blockLen = blockLen;\n        this.suffix = suffix;\n        this.outputLen = outputLen;\n        this.enableXOF = enableXOF;\n        this.rounds = rounds;\n        // Can be passed from user as dkLen\n        (0, utils_ts_1.anumber)(outputLen);\n        // 1600 = 5x5 matrix of 64bit.  1600 bits === 200 bytes\n        // 0 < blockLen < 200\n        if (!(0 < blockLen && blockLen < 200))\n            throw new Error('only keccak-f1600 function is supported');\n        this.state = new Uint8Array(200);\n        this.state32 = (0, utils_ts_1.u32)(this.state);\n    }\n    clone() {\n        return this._cloneInto();\n    }\n    keccak() {\n        (0, utils_ts_1.swap32IfBE)(this.state32);\n        keccakP(this.state32, this.rounds);\n        (0, utils_ts_1.swap32IfBE)(this.state32);\n        this.posOut = 0;\n        this.pos = 0;\n    }\n    update(data) {\n        (0, utils_ts_1.aexists)(this);\n        data = (0, utils_ts_1.toBytes)(data);\n        (0, utils_ts_1.abytes)(data);\n        const { blockLen, state } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            for (let i = 0; i < take; i++)\n                state[this.pos++] ^= data[pos++];\n            if (this.pos === blockLen)\n                this.keccak();\n        }\n        return this;\n    }\n    finish() {\n        if (this.finished)\n            return;\n        this.finished = true;\n        const { state, suffix, pos, blockLen } = this;\n        // Do the padding\n        state[pos] ^= suffix;\n        if ((suffix & 0x80) !== 0 && pos === blockLen - 1)\n            this.keccak();\n        state[blockLen - 1] ^= 0x80;\n        this.keccak();\n    }\n    writeInto(out) {\n        (0, utils_ts_1.aexists)(this, false);\n        (0, utils_ts_1.abytes)(out);\n        this.finish();\n        const bufferOut = this.state;\n        const { blockLen } = this;\n        for (let pos = 0, len = out.length; pos < len;) {\n            if (this.posOut >= blockLen)\n                this.keccak();\n            const take = Math.min(blockLen - this.posOut, len - pos);\n            out.set(bufferOut.subarray(this.posOut, this.posOut + take), pos);\n            this.posOut += take;\n            pos += take;\n        }\n        return out;\n    }\n    xofInto(out) {\n        // Sha3/Keccak usage with XOF is probably mistake, only SHAKE instances can do XOF\n        if (!this.enableXOF)\n            throw new Error('XOF is not possible for this instance');\n        return this.writeInto(out);\n    }\n    xof(bytes) {\n        (0, utils_ts_1.anumber)(bytes);\n        return this.xofInto(new Uint8Array(bytes));\n    }\n    digestInto(out) {\n        (0, utils_ts_1.aoutput)(out, this);\n        if (this.finished)\n            throw new Error('digest() was already called');\n        this.writeInto(out);\n        this.destroy();\n        return out;\n    }\n    digest() {\n        return this.digestInto(new Uint8Array(this.outputLen));\n    }\n    destroy() {\n        this.destroyed = true;\n        (0, utils_ts_1.clean)(this.state);\n    }\n    _cloneInto(to) {\n        const { blockLen, suffix, outputLen, rounds, enableXOF } = this;\n        to || (to = new Keccak(blockLen, suffix, outputLen, enableXOF, rounds));\n        to.state32.set(this.state32);\n        to.pos = this.pos;\n        to.posOut = this.posOut;\n        to.finished = this.finished;\n        to.rounds = rounds;\n        // Suffix can change in cSHAKE\n        to.suffix = suffix;\n        to.outputLen = outputLen;\n        to.enableXOF = enableXOF;\n        to.destroyed = this.destroyed;\n        return to;\n    }\n}\nexports.Keccak = Keccak;\nconst gen = (suffix, blockLen, outputLen) => (0, utils_ts_1.createHasher)(() => new Keccak(blockLen, suffix, outputLen));\n/** SHA3-224 hash function. */\nexports.sha3_224 = (() => gen(0x06, 144, 224 / 8))();\n/** SHA3-256 hash function. Different from keccak-256. */\nexports.sha3_256 = (() => gen(0x06, 136, 256 / 8))();\n/** SHA3-384 hash function. */\nexports.sha3_384 = (() => gen(0x06, 104, 384 / 8))();\n/** SHA3-512 hash function. */\nexports.sha3_512 = (() => gen(0x06, 72, 512 / 8))();\n/** keccak-224 hash function. */\nexports.keccak_224 = (() => gen(0x01, 144, 224 / 8))();\n/** keccak-256 hash function. Different from SHA3-256. */\nexports.keccak_256 = (() => gen(0x01, 136, 256 / 8))();\n/** keccak-384 hash function. */\nexports.keccak_384 = (() => gen(0x01, 104, 384 / 8))();\n/** keccak-512 hash function. */\nexports.keccak_512 = (() => gen(0x01, 72, 512 / 8))();\nconst genShake = (suffix, blockLen, outputLen) => (0, utils_ts_1.createXOFer)((opts = {}) => new Keccak(blockLen, suffix, opts.dkLen === undefined ? outputLen : opts.dkLen, true));\n/** SHAKE128 XOF with 128-bit security. */\nexports.shake128 = (() => genShake(0x1f, 168, 128 / 8))();\n/** SHAKE256 XOF with 256-bit security. */\nexports.shake256 = (() => genShake(0x1f, 136, 256 / 8))();\n//# sourceMappingURL=sha3.js.map","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\n/* eslint-disable */\n//prettier-ignore\nconst { keccak_256 } = require('@noble/hashes/sha3')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\nfunction bitLengthFromBigInt (num) {\n  return num.toString(2).length\n}\n\nfunction bufferBEFromBigInt(num, length) {\n  let hex = num.toString(16);\n  // Ensure the hex string length is even\n  if (hex.length % 2 !== 0) hex = '0' + hex;\n  // Convert hex string to a byte array\n  const byteArray = hex.match(/.{1,2}/g).map(byte => parseInt(byte, 16));\n  // Ensure the byte array is of the specified length\n  while (byteArray.length < length) {\n    byteArray.unshift(0); // Prepend with zeroes if shorter than required length\n  }\n\n  return Buffer.from(byteArray);\n}\n\nfunction twosFromBigInt(value, width) {\n  const isNegative = value < 0n;\n  let result;\n  if (isNegative) {\n    // Prepare a mask for the specified width to perform NOT operation\n    const mask = (1n << BigInt(width)) - 1n;\n    // Invert bits (using NOT) and add one\n    result = (~value & mask) + 1n;\n  } else {\n    result = value;\n  }\n  // Ensure the result fits in the specified width\n  result &= (1n << BigInt(width)) - 1n;\n\n  return result;\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BIgInt` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (typeof v === 'bigint') {\n      v = bufferBEFromBigInt(v)\n    } else if (v.toArray) {\n      // TODO: bigint should be handled above, may remove this duplicate\n      // converts a BigInt to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n  if (bits !== 256) {\n    throw new Error('unsupported')\n  }\n  return Buffer.from(keccak_256(new Uint8Array(a)))\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak,\n  bitLengthFromBigInt,\n  bufferBEFromBigInt,\n  twosFromBigInt\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\n/* eslint-disable */\n//prettier-ignore\nconst util = require('./util.cjs')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return Number.parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ Number.parseInt(tmp[1], 10), Number.parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : Number.parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string' || type === 'number') {\n    return BigInt(arg)\n  } else if (type === 'bigint') {\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    const bitLength = util.bitLengthFromBigInt(num)\n    if (bitLength > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + bitLength)\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return util.bufferBEFromBigInt(num, 32);\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    const bitLength = util.bitLengthFromBigInt(num)\n    if (bitLength > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + bitLength)\n    }\n\n    const twos = util.twosFromBigInt(num, 256);\n\n    return util.bufferBEFromBigInt(twos, 32);\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num * BigInt(2) ** BigInt(size[1]))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg) * BigInt(2) ** BigInt(size[1]))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      const bitLength = util.bitLengthFromBigInt(num)\n      if (bitLength > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + bitLength)\n      }\n\n      ret.push(util.bufferBEFromBigInt(num, size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      const bitLength = util.bitLengthFromBigInt(num)\n      if (bitLength > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + bitLength)\n      }\n\n      const twos = util.twosFromBigInt(num, size);\n      ret.push(util.bufferBEFromBigInt(twos, size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","/* eslint-disable */\n//prettier-ignore\n\nconst util = require('./util.cjs')\nconst abi = require('./abi.cjs')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type definition object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {Buffer} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}","export const WALLET_USER_NAME_KEY = 'walletUsername';\nexport const LOCAL_STORAGE_ADDRESSES_KEY = 'Addresses';\nexport const APP_VERSION_KEY = 'AppVersion';\n//# sourceMappingURL=constants.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nexport function isErrorResponse(response) {\n    return response.errorMessage !== undefined;\n}\n//# sourceMappingURL=Web3Response.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport { hexStringToUint8Array, uint8ArrayToHex } from '../../../../core/type/util.js';\nexport class WalletLinkCipher {\n    // @param secret hex representation of 32-byte secret\n    constructor(secret) {\n        this.secret = secret;\n    }\n    /**\n     *\n     * @param plainText string to be encrypted\n     * returns hex string representation of bytes in the order: initialization vector (iv),\n     * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the\n     * encrypted plainText.\n     */\n    async encrypt(plainText) {\n        const secret = this.secret;\n        if (secret.length !== 64)\n            throw Error(`secret must be 256 bits`);\n        const ivBytes = crypto.getRandomValues(new Uint8Array(12));\n        const secretKey = await crypto.subtle.importKey('raw', hexStringToUint8Array(secret), { name: 'aes-gcm' }, false, ['encrypt', 'decrypt']);\n        const enc = new TextEncoder();\n        // Will return encrypted plainText with auth tag (ie MAC or checksum) appended at the end\n        const encryptedResult = await window.crypto.subtle.encrypt({\n            name: 'AES-GCM',\n            iv: ivBytes,\n        }, secretKey, enc.encode(plainText));\n        const tagLength = 16;\n        const authTag = encryptedResult.slice(encryptedResult.byteLength - tagLength);\n        const encryptedPlaintext = encryptedResult.slice(0, encryptedResult.byteLength - tagLength);\n        const authTagBytes = new Uint8Array(authTag);\n        const encryptedPlaintextBytes = new Uint8Array(encryptedPlaintext);\n        const concatted = new Uint8Array([...ivBytes, ...authTagBytes, ...encryptedPlaintextBytes]);\n        return uint8ArrayToHex(concatted);\n    }\n    /**\n     *\n     * @param cipherText hex string representation of bytes in the order: initialization vector (iv),\n     * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.\n     */\n    async decrypt(cipherText) {\n        const secret = this.secret;\n        if (secret.length !== 64)\n            throw Error(`secret must be 256 bits`);\n        return new Promise((resolve, reject) => {\n            void (async function () {\n                const secretKey = await crypto.subtle.importKey('raw', hexStringToUint8Array(secret), { name: 'aes-gcm' }, false, ['encrypt', 'decrypt']);\n                const encrypted = hexStringToUint8Array(cipherText);\n                const ivBytes = encrypted.slice(0, 12);\n                const authTagBytes = encrypted.slice(12, 28);\n                const encryptedPlaintextBytes = encrypted.slice(28);\n                const concattedBytes = new Uint8Array([...encryptedPlaintextBytes, ...authTagBytes]);\n                const algo = {\n                    name: 'AES-GCM',\n                    iv: new Uint8Array(ivBytes),\n                };\n                try {\n                    const decrypted = await window.crypto.subtle.decrypt(algo, secretKey, concattedBytes);\n                    const decoder = new TextDecoder();\n                    resolve(decoder.decode(decrypted));\n                }\n                catch (err) {\n                    reject(err);\n                }\n            })();\n        });\n    }\n}\n//# sourceMappingURL=WalletLinkCipher.js.map","export class WalletLinkHTTP {\n    constructor(linkAPIUrl, sessionId, sessionKey) {\n        this.linkAPIUrl = linkAPIUrl;\n        this.sessionId = sessionId;\n        const credentials = `${sessionId}:${sessionKey}`;\n        this.auth = `Basic ${btoa(credentials)}`;\n    }\n    // mark unseen events as seen\n    async markUnseenEventsAsSeen(events) {\n        return Promise.all(events.map((e) => fetch(`${this.linkAPIUrl}/events/${e.eventId}/seen`, {\n            method: 'POST',\n            headers: {\n                Authorization: this.auth,\n            },\n        }))).catch((error) => console.error('Unabled to mark event as failed:', error));\n    }\n    async fetchUnseenEvents() {\n        var _a;\n        const response = await fetch(`${this.linkAPIUrl}/events?unseen=true`, {\n            headers: {\n                Authorization: this.auth,\n            },\n        });\n        if (response.ok) {\n            const { events, error } = (await response.json());\n            if (error) {\n                throw new Error(`Check unseen events failed: ${error}`);\n            }\n            const responseEvents = (_a = events === null || events === void 0 ? void 0 : events.filter((e) => e.event === 'Web3Response').map((e) => ({\n                type: 'Event',\n                sessionId: this.sessionId,\n                eventId: e.id,\n                event: e.event,\n                data: e.data,\n            }))) !== null && _a !== void 0 ? _a : [];\n            this.markUnseenEventsAsSeen(responseEvents);\n            return responseEvents;\n        }\n        throw new Error(`Check unseen events failed: ${response.status}`);\n    }\n}\n//# sourceMappingURL=WalletLinkHTTP.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nexport var ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState || (ConnectionState = {}));\nexport class WalletLinkWebSocket {\n    setConnectionStateListener(listener) {\n        this.connectionStateListener = listener;\n    }\n    setIncomingDataListener(listener) {\n        this.incomingDataListener = listener;\n    }\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.pendingData = [];\n        this.url = url.replace(/^http/, 'ws');\n    }\n    /**\n     * Make a websocket connection\n     * @returns a Promise that resolves when connected\n     */\n    async connect() {\n        if (this.webSocket) {\n            throw new Error('webSocket object is not null');\n        }\n        return new Promise((resolve, reject) => {\n            var _a;\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                reject(err);\n                return;\n            }\n            (_a = this.connectionStateListener) === null || _a === void 0 ? void 0 : _a.call(this, ConnectionState.CONNECTING);\n            webSocket.onclose = (evt) => {\n                var _a;\n                this.clearWebSocket();\n                reject(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                (_a = this.connectionStateListener) === null || _a === void 0 ? void 0 : _a.call(this, ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = (_) => {\n                var _a;\n                resolve();\n                (_a = this.connectionStateListener) === null || _a === void 0 ? void 0 : _a.call(this, ConnectionState.CONNECTED);\n                if (this.pendingData.length > 0) {\n                    const pending = [...this.pendingData];\n                    pending.forEach((data) => this.sendData(data));\n                    this.pendingData = [];\n                }\n            };\n            webSocket.onmessage = (evt) => {\n                var _a, _b;\n                if (evt.data === 'h') {\n                    (_a = this.incomingDataListener) === null || _a === void 0 ? void 0 : _a.call(this, {\n                        type: 'Heartbeat',\n                    });\n                }\n                else {\n                    try {\n                        const message = JSON.parse(evt.data);\n                        (_b = this.incomingDataListener) === null || _b === void 0 ? void 0 : _b.call(this, message);\n                    }\n                    catch (_c) {\n                        /* empty */\n                    }\n                }\n            };\n        });\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        var _a;\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        (_a = this.connectionStateListener) === null || _a === void 0 ? void 0 : _a.call(this, ConnectionState.DISCONNECTED);\n        this.connectionStateListener = undefined;\n        this.incomingDataListener = undefined;\n        try {\n            webSocket.close();\n        }\n        catch (_b) {\n            // noop\n        }\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            this.pendingData.push(data);\n            this.connect();\n            return;\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\n//# sourceMappingURL=WalletLinkWebSocket.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport { APP_VERSION_KEY, WALLET_USER_NAME_KEY } from '../constants.js';\nimport { WalletLinkCipher } from './WalletLinkCipher.js';\nimport { WalletLinkHTTP } from './WalletLinkHTTP.js';\nimport { ConnectionState, WalletLinkWebSocket } from './WalletLinkWebSocket.js';\nimport { IntNumber } from '../../../../core/type/index.js';\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * Coinbase Wallet Connection\n */\nexport class WalletLinkConnection {\n    /**\n     * Constructor\n     * @param session Session\n     * @param linkAPIUrl Coinbase Wallet link server URL\n     * @param listener WalletLinkConnectionUpdateListener\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor({ session, linkAPIUrl, listener }) {\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = IntNumber(1);\n        /**\n         * true if connected and authenticated, else false\n         * runs listener when connected status changes\n         */\n        this._connected = false;\n        /**\n         * true if linked (a guest has joined before)\n         * runs listener when linked status changes\n         */\n        this._linked = false;\n        this.shouldFetchUnseenEventsOnConnect = false;\n        this.requestResolutions = new Map();\n        this.handleSessionMetadataUpdated = (metadata) => {\n            if (!metadata)\n                return;\n            // Map of metadata key to handler function\n            const handlers = new Map([\n                ['__destroyed', this.handleDestroyed],\n                ['EthereumAddress', this.handleAccountUpdated],\n                ['WalletUsername', this.handleWalletUsernameUpdated],\n                ['AppVersion', this.handleAppVersionUpdated],\n                [\n                    'ChainId', // ChainId and JsonRpcUrl are always updated together\n                    (v) => metadata.JsonRpcUrl && this.handleChainUpdated(v, metadata.JsonRpcUrl),\n                ],\n            ]);\n            // call handler for each metadata key if value is defined\n            handlers.forEach((handler, key) => {\n                const value = metadata[key];\n                if (value === undefined)\n                    return;\n                handler(value);\n            });\n        };\n        this.handleDestroyed = (__destroyed) => {\n            var _a;\n            if (__destroyed !== '1')\n                return;\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.resetAndReload();\n        };\n        this.handleAccountUpdated = async (encryptedEthereumAddress) => {\n            var _a;\n            const address = await this.cipher.decrypt(encryptedEthereumAddress);\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.accountUpdated(address);\n        };\n        this.handleMetadataUpdated = async (key, encryptedMetadataValue) => {\n            var _a;\n            const decryptedValue = await this.cipher.decrypt(encryptedMetadataValue);\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.metadataUpdated(key, decryptedValue);\n        };\n        this.handleWalletUsernameUpdated = async (walletUsername) => {\n            this.handleMetadataUpdated(WALLET_USER_NAME_KEY, walletUsername);\n        };\n        this.handleAppVersionUpdated = async (appVersion) => {\n            this.handleMetadataUpdated(APP_VERSION_KEY, appVersion);\n        };\n        this.handleChainUpdated = async (encryptedChainId, encryptedJsonRpcUrl) => {\n            var _a;\n            const chainId = await this.cipher.decrypt(encryptedChainId);\n            const jsonRpcUrl = await this.cipher.decrypt(encryptedJsonRpcUrl);\n            (_a = this.listener) === null || _a === void 0 ? void 0 : _a.chainUpdated(chainId, jsonRpcUrl);\n        };\n        this.session = session;\n        this.cipher = new WalletLinkCipher(session.secret);\n        this.listener = listener;\n        const ws = new WalletLinkWebSocket(`${linkAPIUrl}/rpc`, WebSocket);\n        ws.setConnectionStateListener(async (state) => {\n            // attempt to reconnect every 5 seconds when disconnected\n            let connected = false;\n            switch (state) {\n                case ConnectionState.DISCONNECTED:\n                    // if DISCONNECTED and not destroyed\n                    if (!this.destroyed) {\n                        const connect = async () => {\n                            // wait 5 seconds\n                            await new Promise((resolve) => setTimeout(resolve, 5000));\n                            // check whether it's destroyed again\n                            if (!this.destroyed) {\n                                // reconnect\n                                ws.connect().catch(() => {\n                                    connect();\n                                });\n                            }\n                        };\n                        connect();\n                    }\n                    break;\n                case ConnectionState.CONNECTED:\n                    // perform authentication upon connection\n                    // if CONNECTED, authenticate, and then check link status\n                    connected = await this.handleConnected();\n                    // send heartbeat every n seconds while connected\n                    // if CONNECTED, start the heartbeat timer\n                    // first timer event updates lastHeartbeat timestamp\n                    // subsequent calls send heartbeat message\n                    this.updateLastHeartbeat();\n                    setInterval(() => {\n                        this.heartbeat();\n                    }, HEARTBEAT_INTERVAL);\n                    // check for unseen events\n                    if (this.shouldFetchUnseenEventsOnConnect) {\n                        this.fetchUnseenEventsAPI();\n                    }\n                    break;\n                case ConnectionState.CONNECTING:\n                    break;\n            }\n            // distinctUntilChanged\n            if (this.connected !== connected) {\n                this.connected = connected;\n            }\n        });\n        ws.setIncomingDataListener((m) => {\n            var _a;\n            switch (m.type) {\n                // handle server's heartbeat responses\n                case 'Heartbeat':\n                    this.updateLastHeartbeat();\n                    return;\n                // handle link status updates\n                case 'IsLinkedOK':\n                case 'Linked': {\n                    const linked = m.type === 'IsLinkedOK' ? m.linked : undefined;\n                    this.linked = linked || m.onlineGuests > 0;\n                    break;\n                }\n                // handle session config updates\n                case 'GetSessionConfigOK':\n                case 'SessionConfigUpdated': {\n                    this.handleSessionMetadataUpdated(m.metadata);\n                    break;\n                }\n                case 'Event': {\n                    this.handleIncomingEvent(m);\n                    break;\n                }\n            }\n            // resolve request promises\n            if (m.id !== undefined) {\n                (_a = this.requestResolutions.get(m.id)) === null || _a === void 0 ? void 0 : _a(m);\n            }\n        });\n        this.ws = ws;\n        this.http = new WalletLinkHTTP(linkAPIUrl, session.id, session.key);\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        if (this.destroyed) {\n            throw new Error('instance is destroyed');\n        }\n        this.ws.connect();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletSDKConnection\n     */\n    async destroy() {\n        if (this.destroyed)\n            return;\n        await this.makeRequest({\n            type: 'SetSessionConfig',\n            id: IntNumber(this.nextReqId++),\n            sessionId: this.session.id,\n            metadata: { __destroyed: '1' },\n        }, { timeout: 1000 });\n        this.destroyed = true;\n        this.ws.disconnect();\n        this.listener = undefined;\n    }\n    get connected() {\n        return this._connected;\n    }\n    set connected(connected) {\n        this._connected = connected;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(linked) {\n        var _a, _b;\n        this._linked = linked;\n        if (linked)\n            (_a = this.onceLinked) === null || _a === void 0 ? void 0 : _a.call(this);\n        (_b = this.listener) === null || _b === void 0 ? void 0 : _b.linkedUpdated(linked);\n    }\n    setOnceLinked(callback) {\n        return new Promise((resolve) => {\n            if (this.linked) {\n                callback().then(resolve);\n            }\n            else {\n                this.onceLinked = () => {\n                    callback().then(resolve);\n                    this.onceLinked = undefined;\n                };\n            }\n        });\n    }\n    async handleIncomingEvent(m) {\n        var _a;\n        if (m.type !== 'Event' || m.event !== 'Web3Response') {\n            return;\n        }\n        const decryptedData = await this.cipher.decrypt(m.data);\n        const message = JSON.parse(decryptedData);\n        if (message.type !== 'WEB3_RESPONSE')\n            return;\n        const { id, response } = message;\n        (_a = this.listener) === null || _a === void 0 ? void 0 : _a.handleWeb3ResponseMessage(id, response);\n    }\n    async checkUnseenEvents() {\n        if (!this.connected) {\n            this.shouldFetchUnseenEventsOnConnect = true;\n            return;\n        }\n        await new Promise((resolve) => setTimeout(resolve, 250));\n        try {\n            await this.fetchUnseenEventsAPI();\n        }\n        catch (e) {\n            console.error('Unable to check for unseen events', e);\n        }\n    }\n    async fetchUnseenEventsAPI() {\n        this.shouldFetchUnseenEventsOnConnect = false;\n        const responseEvents = await this.http.fetchUnseenEvents();\n        responseEvents.forEach((e) => this.handleIncomingEvent(e));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param unencryptedData unencrypted event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns a Promise that emits event ID when successful\n     */\n    async publishEvent(event, unencryptedData, callWebhook = false) {\n        const data = await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({}, unencryptedData), { origin: location.origin, location: location.href, relaySource: 'coinbaseWalletExtension' in window && window.coinbaseWalletExtension\n                ? 'injected_sdk'\n                : 'sdk' })));\n        const message = {\n            type: 'PublishEvent',\n            id: IntNumber(this.nextReqId++),\n            sessionId: this.session.id,\n            event,\n            data,\n            callWebhook,\n        };\n        return this.setOnceLinked(async () => {\n            const res = await this.makeRequest(message);\n            if (res.type === 'Fail') {\n                throw new Error(res.error || 'failed to publish event');\n            }\n            return res.eventId;\n        });\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData('h');\n        }\n        catch (_a) {\n            // noop\n        }\n    }\n    async makeRequest(message, options = { timeout: REQUEST_TIMEOUT }) {\n        const reqId = message.id;\n        this.sendData(message);\n        // await server message with corresponding id\n        let timeoutId;\n        return Promise.race([\n            new Promise((_, reject) => {\n                timeoutId = window.setTimeout(() => {\n                    reject(new Error(`request ${reqId} timed out`));\n                }, options.timeout);\n            }),\n            new Promise((resolve) => {\n                this.requestResolutions.set(reqId, (m) => {\n                    clearTimeout(timeoutId); // clear the timeout\n                    resolve(m);\n                    this.requestResolutions.delete(reqId);\n                });\n            }),\n        ]);\n    }\n    async handleConnected() {\n        const res = await this.makeRequest({\n            type: 'HostSession',\n            id: IntNumber(this.nextReqId++),\n            sessionId: this.session.id,\n            sessionKey: this.session.key,\n        });\n        if (res.type === 'Fail')\n            return false;\n        this.sendData({\n            type: 'IsLinked',\n            id: IntNumber(this.nextReqId++),\n            sessionId: this.session.id,\n        });\n        this.sendData({\n            type: 'GetSessionConfig',\n            id: IntNumber(this.nextReqId++),\n            sessionId: this.session.id,\n        });\n        return true;\n    }\n}\n//# sourceMappingURL=WalletLinkConnection.js.map","import { prepend0x } from '../../../core/type/util.js';\nexport class RelayEventManager {\n    constructor() {\n        this._nextRequestId = 0;\n        this.callbacks = new Map();\n    }\n    makeRequestId() {\n        // max nextId == max int32 for compatibility with mobile\n        this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n        const id = this._nextRequestId;\n        const idStr = prepend0x(id.toString(16));\n        // unlikely that this will ever be an issue, but just to be safe\n        const callback = this.callbacks.get(idStr);\n        if (callback) {\n            this.callbacks.delete(idStr);\n        }\n        return id;\n    }\n}\n//# sourceMappingURL=RelayEventManager.js.map","/**\n * Utilities for hex, bytes, CSPRNG.\n * @module\n */\n/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated (2025-04-30), we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\n/** Checks if something is Uint8Array. Be careful: nodejs Buffer will return true. */\nexport function isBytes(a) {\n    return a instanceof Uint8Array || (ArrayBuffer.isView(a) && a.constructor.name === 'Uint8Array');\n}\n/** Asserts something is positive integer. */\nexport function anumber(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error('positive integer expected, got ' + n);\n}\n/** Asserts something is Uint8Array. */\nexport function abytes(b, ...lengths) {\n    if (!isBytes(b))\n        throw new Error('Uint8Array expected');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error('Uint8Array expected of length ' + lengths + ', got length=' + b.length);\n}\n/** Asserts something is hash */\nexport function ahash(h) {\n    if (typeof h !== 'function' || typeof h.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.createHasher');\n    anumber(h.outputLen);\n    anumber(h.blockLen);\n}\n/** Asserts a hash instance has not been destroyed / finished */\nexport function aexists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\n/** Asserts output is properly-sized byte array */\nexport function aoutput(out, instance) {\n    abytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error('digestInto() expects output buffer of length at least ' + min);\n    }\n}\n/** Cast u8 / u16 / u32 to u8. */\nexport function u8(arr) {\n    return new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** Cast u8 / u16 / u32 to u32. */\nexport function u32(arr) {\n    return new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n}\n/** Zeroize a byte array. Warning: JS provides no guarantees. */\nexport function clean(...arrays) {\n    for (let i = 0; i < arrays.length; i++) {\n        arrays[i].fill(0);\n    }\n}\n/** Create DataView of an array for easy byte-level manipulation. */\nexport function createView(arr) {\n    return new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n}\n/** The rotate right (circular right shift) operation for uint32 */\nexport function rotr(word, shift) {\n    return (word << (32 - shift)) | (word >>> shift);\n}\n/** The rotate left (circular left shift) operation for uint32 */\nexport function rotl(word, shift) {\n    return (word << shift) | ((word >>> (32 - shift)) >>> 0);\n}\n/** Is current platform little-endian? Most are. Big-Endian platform: IBM */\nexport const isLE = /* @__PURE__ */ (() => new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44)();\n/** The byte swap operation for uint32 */\nexport function byteSwap(word) {\n    return (((word << 24) & 0xff000000) |\n        ((word << 8) & 0xff0000) |\n        ((word >>> 8) & 0xff00) |\n        ((word >>> 24) & 0xff));\n}\n/** Conditionally byte swap if on a big-endian platform */\nexport const swap8IfBE = isLE\n    ? (n) => n\n    : (n) => byteSwap(n);\n/** @deprecated */\nexport const byteSwapIfBE = swap8IfBE;\n/** In place byte swap for Uint32Array */\nexport function byteSwap32(arr) {\n    for (let i = 0; i < arr.length; i++) {\n        arr[i] = byteSwap(arr[i]);\n    }\n    return arr;\n}\nexport const swap32IfBE = isLE\n    ? (u) => u\n    : byteSwap32;\n// Built-in hex conversion https://caniuse.com/mdn-javascript_builtins_uint8array_fromhex\nconst hasHexBuiltin = /* @__PURE__ */ (() => \n// @ts-ignore\ntypeof Uint8Array.from([]).toHex === 'function' && typeof Uint8Array.fromHex === 'function')();\n// Array where index 0xf0 (240) is mapped to string 'f0'\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * Convert byte array to hex string. Uses built-in function, when available.\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    abytes(bytes);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return bytes.toHex();\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n// We use optimized technique to convert hex string to byte array\nconst asciis = { _0: 48, _9: 57, A: 65, F: 70, a: 97, f: 102 };\nfunction asciiToBase16(ch) {\n    if (ch >= asciis._0 && ch <= asciis._9)\n        return ch - asciis._0; // '2' => 50-48\n    if (ch >= asciis.A && ch <= asciis.F)\n        return ch - (asciis.A - 10); // 'B' => 66-(65-10)\n    if (ch >= asciis.a && ch <= asciis.f)\n        return ch - (asciis.a - 10); // 'b' => 98-(97-10)\n    return;\n}\n/**\n * Convert hex string to byte array. Uses built-in function, when available.\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    // @ts-ignore\n    if (hasHexBuiltin)\n        return Uint8Array.fromHex(hex);\n    const hl = hex.length;\n    const al = hl / 2;\n    if (hl % 2)\n        throw new Error('hex string expected, got unpadded hex of length ' + hl);\n    const array = new Uint8Array(al);\n    for (let ai = 0, hi = 0; ai < al; ai++, hi += 2) {\n        const n1 = asciiToBase16(hex.charCodeAt(hi));\n        const n2 = asciiToBase16(hex.charCodeAt(hi + 1));\n        if (n1 === undefined || n2 === undefined) {\n            const char = hex[hi] + hex[hi + 1];\n            throw new Error('hex string expected, got non-hex character \"' + char + '\" at index ' + hi);\n        }\n        array[ai] = n1 * 16 + n2; // multiply first octet, e.g. 'a3' => 10*16+3 => 160 + 3 => 163\n    }\n    return array;\n}\n/**\n * There is no setImmediate in browser and setTimeout is slow.\n * Call of async fn will return Promise, which will be fullfiled only on\n * next scheduler queue processing step and this is exactly what we need.\n */\nexport const nextTick = async () => { };\n/** Returns control to thread each 'tick' ms to avoid blocking. */\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * Converts string to bytes using UTF8 encoding.\n * @example utf8ToBytes('abc') // Uint8Array.from([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error('string expected');\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Converts bytes to string using UTF8 encoding.\n * @example bytesToUtf8(Uint8Array.from([97, 98, 99])) // 'abc'\n */\nexport function bytesToUtf8(bytes) {\n    return new TextDecoder().decode(bytes);\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/**\n * Helper for KDFs: consumes uint8array or string.\n * When string is passed, does utf8 decoding, using TextDecoder.\n */\nexport function kdfInputToBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    abytes(data);\n    return data;\n}\n/** Copies several Uint8Arrays into one. */\nexport function concatBytes(...arrays) {\n    let sum = 0;\n    for (let i = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        abytes(a);\n        sum += a.length;\n    }\n    const res = new Uint8Array(sum);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n        const a = arrays[i];\n        res.set(a, pad);\n        pad += a.length;\n    }\n    return res;\n}\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && {}.toString.call(opts) !== '[object Object]')\n        throw new Error('options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\n/** For runtime check if class implements interface */\nexport class Hash {\n}\n/** Wraps hash function, creating an interface on top of it */\nexport function createHasher(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function createOptHasher(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function createXOFer(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport const wrapConstructor = createHasher;\nexport const wrapConstructorWithOpts = createOptHasher;\nexport const wrapXOFConstructorWithOpts = createXOFer;\n/** Cryptographically secure PRNG. Uses internal OS-level `crypto.getRandomValues`. */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    // Legacy Node.js compatibility\n    if (crypto && typeof crypto.randomBytes === 'function') {\n        return Uint8Array.from(crypto.randomBytes(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","/**\n * Internal Merkle-Damgard hash utils.\n * @module\n */\nimport { Hash, abytes, aexists, aoutput, clean, createView, toBytes } from \"./utils.js\";\n/** Polyfill for Safari 14. https://caniuse.com/mdn-javascript_builtins_dataview_setbiguint64 */\nexport function setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n/** Choice: a ? b : c */\nexport function Chi(a, b, c) {\n    return (a & b) ^ (~a & c);\n}\n/** Majority function, true if any two inputs is true. */\nexport function Maj(a, b, c) {\n    return (a & b) ^ (a & c) ^ (b & c);\n}\n/**\n * Merkle-Damgard hash construction base class.\n * Could be used to create MD5, RIPEMD, SHA1, SHA2.\n */\nexport class HashMD extends Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        aexists(this);\n        data = toBytes(data);\n        abytes(data);\n        const { view, buffer, blockLen } = this;\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        aexists(this);\n        aoutput(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        clean(this.buffer.subarray(pos));\n        // we have less than padOffset left in buffer, so we cannot put length in\n        // current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.destroyed = destroyed;\n        to.finished = finished;\n        to.length = length;\n        to.pos = pos;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n    clone() {\n        return this._cloneInto();\n    }\n}\n/**\n * Initial SHA-2 state: fractional parts of square roots of first 16 primes 2..53.\n * Check out `test/misc/sha2-gen-iv.js` for recomputation guide.\n */\n/** Initial SHA256 state. Bits 0..32 of frac part of sqrt of primes 2..19 */\nexport const SHA256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19,\n]);\n/** Initial SHA224 state. Bits 32..64 of frac part of sqrt of primes 23..53 */\nexport const SHA224_IV = /* @__PURE__ */ Uint32Array.from([\n    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4,\n]);\n/** Initial SHA384 state. Bits 0..64 of frac part of sqrt of primes 23..53 */\nexport const SHA384_IV = /* @__PURE__ */ Uint32Array.from([\n    0xcbbb9d5d, 0xc1059ed8, 0x629a292a, 0x367cd507, 0x9159015a, 0x3070dd17, 0x152fecd8, 0xf70e5939,\n    0x67332667, 0xffc00b31, 0x8eb44a87, 0x68581511, 0xdb0c2e0d, 0x64f98fa7, 0x47b5481d, 0xbefa4fa4,\n]);\n/** Initial SHA512 state. Bits 0..64 of frac part of sqrt of primes 2..19 */\nexport const SHA512_IV = /* @__PURE__ */ Uint32Array.from([\n    0x6a09e667, 0xf3bcc908, 0xbb67ae85, 0x84caa73b, 0x3c6ef372, 0xfe94f82b, 0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1, 0x9b05688c, 0x2b3e6c1f, 0x1f83d9ab, 0xfb41bd6b, 0x5be0cd19, 0x137e2179,\n]);\n//# sourceMappingURL=_md.js.map","/**\n * SHA2 hash function. A.k.a. sha256, sha384, sha512, sha512_224, sha512_256.\n * SHA256 is the fastest hash implementable in JS, even faster than Blake3.\n * Check out [RFC 4634](https://datatracker.ietf.org/doc/html/rfc4634) and\n * [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n */\nimport { Chi, HashMD, Maj, SHA224_IV, SHA256_IV, SHA384_IV, SHA512_IV } from \"./_md.js\";\nimport * as u64 from \"./_u64.js\";\nimport { clean, createHasher, rotr } from \"./utils.js\";\n/**\n * Round constants:\n * First 32 bits of fractional parts of the cube roots of the first 64 primes 2..311)\n */\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ Uint32Array.from([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n/** Reusable temporary buffer. \"W\" comes straight from spec. */\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nexport class SHA256 extends HashMD {\n    constructor(outputLen = 32) {\n        super(64, outputLen, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = SHA256_IV[0] | 0;\n        this.B = SHA256_IV[1] | 0;\n        this.C = SHA256_IV[2] | 0;\n        this.D = SHA256_IV[3] | 0;\n        this.E = SHA256_IV[4] | 0;\n        this.F = SHA256_IV[5] | 0;\n        this.G = SHA256_IV[6] | 0;\n        this.H = SHA256_IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        clean(SHA256_W);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        clean(this.buffer);\n    }\n}\nexport class SHA224 extends SHA256 {\n    constructor() {\n        super(28);\n        this.A = SHA224_IV[0] | 0;\n        this.B = SHA224_IV[1] | 0;\n        this.C = SHA224_IV[2] | 0;\n        this.D = SHA224_IV[3] | 0;\n        this.E = SHA224_IV[4] | 0;\n        this.F = SHA224_IV[5] | 0;\n        this.G = SHA224_IV[6] | 0;\n        this.H = SHA224_IV[7] | 0;\n    }\n}\n// SHA2-512 is slower than sha256 in js because u64 operations are slow.\n// Round contants\n// First 32 bits of the fractional parts of the cube roots of the first 80 primes 2..409\n// prettier-ignore\nconst K512 = /* @__PURE__ */ (() => u64.split([\n    '0x428a2f98d728ae22', '0x7137449123ef65cd', '0xb5c0fbcfec4d3b2f', '0xe9b5dba58189dbbc',\n    '0x3956c25bf348b538', '0x59f111f1b605d019', '0x923f82a4af194f9b', '0xab1c5ed5da6d8118',\n    '0xd807aa98a3030242', '0x12835b0145706fbe', '0x243185be4ee4b28c', '0x550c7dc3d5ffb4e2',\n    '0x72be5d74f27b896f', '0x80deb1fe3b1696b1', '0x9bdc06a725c71235', '0xc19bf174cf692694',\n    '0xe49b69c19ef14ad2', '0xefbe4786384f25e3', '0x0fc19dc68b8cd5b5', '0x240ca1cc77ac9c65',\n    '0x2de92c6f592b0275', '0x4a7484aa6ea6e483', '0x5cb0a9dcbd41fbd4', '0x76f988da831153b5',\n    '0x983e5152ee66dfab', '0xa831c66d2db43210', '0xb00327c898fb213f', '0xbf597fc7beef0ee4',\n    '0xc6e00bf33da88fc2', '0xd5a79147930aa725', '0x06ca6351e003826f', '0x142929670a0e6e70',\n    '0x27b70a8546d22ffc', '0x2e1b21385c26c926', '0x4d2c6dfc5ac42aed', '0x53380d139d95b3df',\n    '0x650a73548baf63de', '0x766a0abb3c77b2a8', '0x81c2c92e47edaee6', '0x92722c851482353b',\n    '0xa2bfe8a14cf10364', '0xa81a664bbc423001', '0xc24b8b70d0f89791', '0xc76c51a30654be30',\n    '0xd192e819d6ef5218', '0xd69906245565a910', '0xf40e35855771202a', '0x106aa07032bbd1b8',\n    '0x19a4c116b8d2d0c8', '0x1e376c085141ab53', '0x2748774cdf8eeb99', '0x34b0bcb5e19b48a8',\n    '0x391c0cb3c5c95a63', '0x4ed8aa4ae3418acb', '0x5b9cca4f7763e373', '0x682e6ff3d6b2b8a3',\n    '0x748f82ee5defb2fc', '0x78a5636f43172f60', '0x84c87814a1f0ab72', '0x8cc702081a6439ec',\n    '0x90befffa23631e28', '0xa4506cebde82bde9', '0xbef9a3f7b2c67915', '0xc67178f2e372532b',\n    '0xca273eceea26619c', '0xd186b8c721c0c207', '0xeada7dd6cde0eb1e', '0xf57d4f7fee6ed178',\n    '0x06f067aa72176fba', '0x0a637dc5a2c898a6', '0x113f9804bef90dae', '0x1b710b35131c471b',\n    '0x28db77f523047d84', '0x32caab7b40c72493', '0x3c9ebe0a15c9bebc', '0x431d67c49c100d4c',\n    '0x4cc5d4becb3e42b6', '0x597f299cfc657e2a', '0x5fcb6fab3ad6faec', '0x6c44198c4a475817'\n].map(n => BigInt(n))))();\nconst SHA512_Kh = /* @__PURE__ */ (() => K512[0])();\nconst SHA512_Kl = /* @__PURE__ */ (() => K512[1])();\n// Reusable temporary buffers\nconst SHA512_W_H = /* @__PURE__ */ new Uint32Array(80);\nconst SHA512_W_L = /* @__PURE__ */ new Uint32Array(80);\nexport class SHA512 extends HashMD {\n    constructor(outputLen = 64) {\n        super(128, outputLen, 16, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        // h -- high 32 bits, l -- low 32 bits\n        this.Ah = SHA512_IV[0] | 0;\n        this.Al = SHA512_IV[1] | 0;\n        this.Bh = SHA512_IV[2] | 0;\n        this.Bl = SHA512_IV[3] | 0;\n        this.Ch = SHA512_IV[4] | 0;\n        this.Cl = SHA512_IV[5] | 0;\n        this.Dh = SHA512_IV[6] | 0;\n        this.Dl = SHA512_IV[7] | 0;\n        this.Eh = SHA512_IV[8] | 0;\n        this.El = SHA512_IV[9] | 0;\n        this.Fh = SHA512_IV[10] | 0;\n        this.Fl = SHA512_IV[11] | 0;\n        this.Gh = SHA512_IV[12] | 0;\n        this.Gl = SHA512_IV[13] | 0;\n        this.Hh = SHA512_IV[14] | 0;\n        this.Hl = SHA512_IV[15] | 0;\n    }\n    // prettier-ignore\n    get() {\n        const { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        return [Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl];\n    }\n    // prettier-ignore\n    set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl) {\n        this.Ah = Ah | 0;\n        this.Al = Al | 0;\n        this.Bh = Bh | 0;\n        this.Bl = Bl | 0;\n        this.Ch = Ch | 0;\n        this.Cl = Cl | 0;\n        this.Dh = Dh | 0;\n        this.Dl = Dl | 0;\n        this.Eh = Eh | 0;\n        this.El = El | 0;\n        this.Fh = Fh | 0;\n        this.Fl = Fl | 0;\n        this.Gh = Gh | 0;\n        this.Gl = Gl | 0;\n        this.Hh = Hh | 0;\n        this.Hl = Hl | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 64 words w[16..79] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4) {\n            SHA512_W_H[i] = view.getUint32(offset);\n            SHA512_W_L[i] = view.getUint32((offset += 4));\n        }\n        for (let i = 16; i < 80; i++) {\n            // s0 := (w[i-15] rightrotate 1) xor (w[i-15] rightrotate 8) xor (w[i-15] rightshift 7)\n            const W15h = SHA512_W_H[i - 15] | 0;\n            const W15l = SHA512_W_L[i - 15] | 0;\n            const s0h = u64.rotrSH(W15h, W15l, 1) ^ u64.rotrSH(W15h, W15l, 8) ^ u64.shrSH(W15h, W15l, 7);\n            const s0l = u64.rotrSL(W15h, W15l, 1) ^ u64.rotrSL(W15h, W15l, 8) ^ u64.shrSL(W15h, W15l, 7);\n            // s1 := (w[i-2] rightrotate 19) xor (w[i-2] rightrotate 61) xor (w[i-2] rightshift 6)\n            const W2h = SHA512_W_H[i - 2] | 0;\n            const W2l = SHA512_W_L[i - 2] | 0;\n            const s1h = u64.rotrSH(W2h, W2l, 19) ^ u64.rotrBH(W2h, W2l, 61) ^ u64.shrSH(W2h, W2l, 6);\n            const s1l = u64.rotrSL(W2h, W2l, 19) ^ u64.rotrBL(W2h, W2l, 61) ^ u64.shrSL(W2h, W2l, 6);\n            // SHA256_W[i] = s0 + s1 + SHA256_W[i - 7] + SHA256_W[i - 16];\n            const SUMl = u64.add4L(s0l, s1l, SHA512_W_L[i - 7], SHA512_W_L[i - 16]);\n            const SUMh = u64.add4H(SUMl, s0h, s1h, SHA512_W_H[i - 7], SHA512_W_H[i - 16]);\n            SHA512_W_H[i] = SUMh | 0;\n            SHA512_W_L[i] = SUMl | 0;\n        }\n        let { Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl } = this;\n        // Compression function main loop, 80 rounds\n        for (let i = 0; i < 80; i++) {\n            // S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)\n            const sigma1h = u64.rotrSH(Eh, El, 14) ^ u64.rotrSH(Eh, El, 18) ^ u64.rotrBH(Eh, El, 41);\n            const sigma1l = u64.rotrSL(Eh, El, 14) ^ u64.rotrSL(Eh, El, 18) ^ u64.rotrBL(Eh, El, 41);\n            //const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const CHIh = (Eh & Fh) ^ (~Eh & Gh);\n            const CHIl = (El & Fl) ^ (~El & Gl);\n            // T1 = H + sigma1 + Chi(E, F, G) + SHA512_K[i] + SHA512_W[i]\n            // prettier-ignore\n            const T1ll = u64.add5L(Hl, sigma1l, CHIl, SHA512_Kl[i], SHA512_W_L[i]);\n            const T1h = u64.add5H(T1ll, Hh, sigma1h, CHIh, SHA512_Kh[i], SHA512_W_H[i]);\n            const T1l = T1ll | 0;\n            // S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)\n            const sigma0h = u64.rotrSH(Ah, Al, 28) ^ u64.rotrBH(Ah, Al, 34) ^ u64.rotrBH(Ah, Al, 39);\n            const sigma0l = u64.rotrSL(Ah, Al, 28) ^ u64.rotrBL(Ah, Al, 34) ^ u64.rotrBL(Ah, Al, 39);\n            const MAJh = (Ah & Bh) ^ (Ah & Ch) ^ (Bh & Ch);\n            const MAJl = (Al & Bl) ^ (Al & Cl) ^ (Bl & Cl);\n            Hh = Gh | 0;\n            Hl = Gl | 0;\n            Gh = Fh | 0;\n            Gl = Fl | 0;\n            Fh = Eh | 0;\n            Fl = El | 0;\n            ({ h: Eh, l: El } = u64.add(Dh | 0, Dl | 0, T1h | 0, T1l | 0));\n            Dh = Ch | 0;\n            Dl = Cl | 0;\n            Ch = Bh | 0;\n            Cl = Bl | 0;\n            Bh = Ah | 0;\n            Bl = Al | 0;\n            const All = u64.add3L(T1l, sigma0l, MAJl);\n            Ah = u64.add3H(All, T1h, sigma0h, MAJh);\n            Al = All | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        ({ h: Ah, l: Al } = u64.add(this.Ah | 0, this.Al | 0, Ah | 0, Al | 0));\n        ({ h: Bh, l: Bl } = u64.add(this.Bh | 0, this.Bl | 0, Bh | 0, Bl | 0));\n        ({ h: Ch, l: Cl } = u64.add(this.Ch | 0, this.Cl | 0, Ch | 0, Cl | 0));\n        ({ h: Dh, l: Dl } = u64.add(this.Dh | 0, this.Dl | 0, Dh | 0, Dl | 0));\n        ({ h: Eh, l: El } = u64.add(this.Eh | 0, this.El | 0, Eh | 0, El | 0));\n        ({ h: Fh, l: Fl } = u64.add(this.Fh | 0, this.Fl | 0, Fh | 0, Fl | 0));\n        ({ h: Gh, l: Gl } = u64.add(this.Gh | 0, this.Gl | 0, Gh | 0, Gl | 0));\n        ({ h: Hh, l: Hl } = u64.add(this.Hh | 0, this.Hl | 0, Hh | 0, Hl | 0));\n        this.set(Ah, Al, Bh, Bl, Ch, Cl, Dh, Dl, Eh, El, Fh, Fl, Gh, Gl, Hh, Hl);\n    }\n    roundClean() {\n        clean(SHA512_W_H, SHA512_W_L);\n    }\n    destroy() {\n        clean(this.buffer);\n        this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n    }\n}\nexport class SHA384 extends SHA512 {\n    constructor() {\n        super(48);\n        this.Ah = SHA384_IV[0] | 0;\n        this.Al = SHA384_IV[1] | 0;\n        this.Bh = SHA384_IV[2] | 0;\n        this.Bl = SHA384_IV[3] | 0;\n        this.Ch = SHA384_IV[4] | 0;\n        this.Cl = SHA384_IV[5] | 0;\n        this.Dh = SHA384_IV[6] | 0;\n        this.Dl = SHA384_IV[7] | 0;\n        this.Eh = SHA384_IV[8] | 0;\n        this.El = SHA384_IV[9] | 0;\n        this.Fh = SHA384_IV[10] | 0;\n        this.Fl = SHA384_IV[11] | 0;\n        this.Gh = SHA384_IV[12] | 0;\n        this.Gl = SHA384_IV[13] | 0;\n        this.Hh = SHA384_IV[14] | 0;\n        this.Hl = SHA384_IV[15] | 0;\n    }\n}\n/**\n * Truncated SHA512/256 and SHA512/224.\n * SHA512_IV is XORed with 0xa5a5a5a5a5a5a5a5, then used as \"intermediary\" IV of SHA512/t.\n * Then t hashes string to produce result IV.\n * See `test/misc/sha2-gen-iv.js`.\n */\n/** SHA512/224 IV */\nconst T224_IV = /* @__PURE__ */ Uint32Array.from([\n    0x8c3d37c8, 0x19544da2, 0x73e19966, 0x89dcd4d6, 0x1dfab7ae, 0x32ff9c82, 0x679dd514, 0x582f9fcf,\n    0x0f6d2b69, 0x7bd44da8, 0x77e36f73, 0x04c48942, 0x3f9d85a8, 0x6a1d36c8, 0x1112e6ad, 0x91d692a1,\n]);\n/** SHA512/256 IV */\nconst T256_IV = /* @__PURE__ */ Uint32Array.from([\n    0x22312194, 0xfc2bf72c, 0x9f555fa3, 0xc84c64c2, 0x2393b86b, 0x6f53b151, 0x96387719, 0x5940eabd,\n    0x96283ee2, 0xa88effe3, 0xbe5e1e25, 0x53863992, 0x2b0199fc, 0x2c85b8aa, 0x0eb72ddc, 0x81c52ca2,\n]);\nexport class SHA512_224 extends SHA512 {\n    constructor() {\n        super(28);\n        this.Ah = T224_IV[0] | 0;\n        this.Al = T224_IV[1] | 0;\n        this.Bh = T224_IV[2] | 0;\n        this.Bl = T224_IV[3] | 0;\n        this.Ch = T224_IV[4] | 0;\n        this.Cl = T224_IV[5] | 0;\n        this.Dh = T224_IV[6] | 0;\n        this.Dl = T224_IV[7] | 0;\n        this.Eh = T224_IV[8] | 0;\n        this.El = T224_IV[9] | 0;\n        this.Fh = T224_IV[10] | 0;\n        this.Fl = T224_IV[11] | 0;\n        this.Gh = T224_IV[12] | 0;\n        this.Gl = T224_IV[13] | 0;\n        this.Hh = T224_IV[14] | 0;\n        this.Hl = T224_IV[15] | 0;\n    }\n}\nexport class SHA512_256 extends SHA512 {\n    constructor() {\n        super(32);\n        this.Ah = T256_IV[0] | 0;\n        this.Al = T256_IV[1] | 0;\n        this.Bh = T256_IV[2] | 0;\n        this.Bl = T256_IV[3] | 0;\n        this.Ch = T256_IV[4] | 0;\n        this.Cl = T256_IV[5] | 0;\n        this.Dh = T256_IV[6] | 0;\n        this.Dl = T256_IV[7] | 0;\n        this.Eh = T256_IV[8] | 0;\n        this.El = T256_IV[9] | 0;\n        this.Fh = T256_IV[10] | 0;\n        this.Fl = T256_IV[11] | 0;\n        this.Gh = T256_IV[12] | 0;\n        this.Gl = T256_IV[13] | 0;\n        this.Hh = T256_IV[14] | 0;\n        this.Hl = T256_IV[15] | 0;\n    }\n}\n/**\n * SHA2-256 hash function from RFC 4634.\n *\n * It is the fastest JS hash, even faster than Blake3.\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n */\nexport const sha256 = /* @__PURE__ */ createHasher(() => new SHA256());\n/** SHA2-224 hash function from RFC 4634 */\nexport const sha224 = /* @__PURE__ */ createHasher(() => new SHA224());\n/** SHA2-512 hash function from RFC 4634. */\nexport const sha512 = /* @__PURE__ */ createHasher(() => new SHA512());\n/** SHA2-384 hash function from RFC 4634. */\nexport const sha384 = /* @__PURE__ */ createHasher(() => new SHA384());\n/**\n * SHA2-512/256 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_256 = /* @__PURE__ */ createHasher(() => new SHA512_256());\n/**\n * SHA2-512/224 \"truncated\" hash function, with improved resistance to length extension attacks.\n * See the paper on [truncated SHA512](https://eprint.iacr.org/2010/548.pdf).\n */\nexport const sha512_224 = /* @__PURE__ */ createHasher(() => new SHA512_224());\n//# sourceMappingURL=sha2.js.map","/**\n * SHA2-256 a.k.a. sha256. In JS, it is the fastest hash, even faster than Blake3.\n *\n * To break sha256 using birthday attack, attackers need to try 2^128 hashes.\n * BTC network is doing 2^70 hashes/sec (2^95 hashes/year) as per 2025.\n *\n * Check out [FIPS 180-4](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf).\n * @module\n * @deprecated\n */\nimport { SHA224 as SHA224n, sha224 as sha224n, SHA256 as SHA256n, sha256 as sha256n, } from \"./sha2.js\";\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA256 = SHA256n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha256 = sha256n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const SHA224 = SHA224n;\n/** @deprecated Use import from `noble/hashes/sha2` module */\nexport const sha224 = sha224n;\n//# sourceMappingURL=sha256.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport { sha256 } from '@noble/hashes/sha256';\nimport { bytesToHex } from '@noble/hashes/utils';\nimport { randomBytesHex } from '../../../../core/type/util.js';\nconst STORAGE_KEY_SESSION_ID = 'session:id';\nconst STORAGE_KEY_SESSION_SECRET = 'session:secret';\nconst STORAGE_KEY_SESSION_LINKED = 'session:linked';\nexport class WalletLinkSession {\n    constructor(storage, id, secret, linked = false) {\n        this.storage = storage;\n        this.id = id;\n        this.secret = secret;\n        this.key = bytesToHex(sha256(`${id}, ${secret} WalletLink`));\n        this._linked = !!linked;\n    }\n    static create(storage) {\n        const id = randomBytesHex(16);\n        const secret = randomBytesHex(32);\n        return new WalletLinkSession(storage, id, secret).save();\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new WalletLinkSession(storage, id, secret, linked === '1');\n        }\n        return null;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this.storage.setItem(STORAGE_KEY_SESSION_ID, this.id);\n        this.storage.setItem(STORAGE_KEY_SESSION_SECRET, this.secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this.storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? '1' : '0');\n    }\n}\n//# sourceMappingURL=WalletLinkSession.js.map","export function createQrUrl(sessionId, sessionSecret, serverUrl, isParentConnection, version, chainId) {\n    const sessionIdKey = isParentConnection ? 'parent-id' : 'id';\n    const query = new URLSearchParams({\n        [sessionIdKey]: sessionId,\n        secret: sessionSecret,\n        server: serverUrl,\n        v: version,\n        chainId: chainId.toString(),\n    }).toString();\n    const qrUrl = `${serverUrl}/#/link?${query}`;\n    return qrUrl;\n}\nfunction isInIFrame() {\n    try {\n        return window.frameElement !== null;\n    }\n    catch (e) {\n        return false;\n    }\n}\nexport function getLocation() {\n    try {\n        if (isInIFrame() && window.top) {\n            return window.top.location;\n        }\n        return window.location;\n    }\n    catch (e) {\n        return window.location;\n    }\n}\nexport function isMobileWeb() {\n    var _a;\n    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent);\n}\nexport function isDarkMode() {\n    var _a, _b;\n    return (_b = (_a = window === null || window === void 0 ? void 0 : window.matchMedia) === null || _a === void 0 ? void 0 : _a.call(window, '(prefers-color-scheme: dark)').matches) !== null && _b !== void 0 ? _b : false;\n}\n//# sourceMappingURL=util.js.map","export default (() => `@namespace svg \"http://www.w3.org/2000/svg\";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}`)();\n//# sourceMappingURL=cssReset-css.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport css from './cssReset-css.js';\nexport function injectCssReset() {\n    const styleEl = document.createElement('style');\n    styleEl.type = 'text/css';\n    styleEl.appendChild(document.createTextNode(css));\n    document.documentElement.appendChild(styleEl);\n}\n//# sourceMappingURL=cssReset.js.map","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","var n,l,u,t,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,w=Array.isArray;function d(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,r,o,e={};for(o in u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:e[o]=u[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,t,i,r,o){var e={type:n,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++u:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!=l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,u,t,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,r=void 0,o=(r=(u=n).__v).__e,f=[],c=[],u.__P&&((t=d({},r)).__v=r.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,r,u.__n,u.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),t.__v=r.__v,t.__.__k[t.__i]=t,N(f,t,c),r.__e=r.__=null,t.__e!=o&&C(t)));$.__r=0}function I(n,l,u,t,i,r,o,e,f,c,s){var a,h,y,w,d,g,_,m=t&&t.__k||v,b=l.length;for(f=P(u,l,m,f,b),a=0;a<b;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:m[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),w=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&B(h.ref,null,y),s.push(y.ref,y.__c||w,y)),null==d&&null!=w&&(d=w),(_=!!(4&y.__u))||h.__k===y.__k?f=A(y,f,n,_):\"function\"==typeof y.type&&void 0!==g?f=g:w&&(f=w.nextSibling),y.__u&=-7);return u.__e=d,f}function P(n,l,u,t,i){var r,o,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):w(o)?m(k,{children:o},null,null,null):null==o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!=(c=o.__i=L(o,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=u[r])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),D(e,e));return t}function A(n,l,u,t){var i,r;if(\"function\"==typeof n.type){for(i=n.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=n,l=A(i[r],l,u,t));return l}n.__e!=l&&(t&&(l&&n.type&&!l.parentNode&&(l=S(n)),u.insertBefore(n.__e,l||null)),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(w(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,r,o,e=n.key,f=n.type,c=l[u],s=null!=c&&0==(2&c.__u);if(null===c&&null==n.key||s&&e==c.key&&f==c.type)return u;if(t>(s?1:0))for(i=u-1,r=u+1;i>=0||r<l.length;)if(null!=(c=l[o=i>=0?i--:r++])&&0==(2&c.__u)&&e==c.key&&f==c.type)return o;return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||y.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var r,o;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),o=l.toLowerCase(),l=o in n||\"onFocusOut\"==l||\"onFocusIn\"==l?o.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(null!=u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),o=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=E),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=d({},h.__s)),d(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||u.__v==t.__v){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=d(d({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=V(a.props.children)),f=I(n,w(L)?L:[L],u,t,i,r,o,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=o)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,u.__e=f}else{for(T=o.length;T--;)g(o[T]);z(u)}else u.__e=t.__e,u.__k=t.__k,n.then||z(u);l.__e(n,u,t)}else null==o&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=q(t.__e,u,t,i,r,o,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(z)}function N(n,u,t){for(var i=0;i<t.length;i++)B(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function V(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:w(n)?n.map(V):d({},n)}function q(u,t,i,r,o,e,f,c,s){var a,h,v,y,d,_,m,b=i.props,k=t.props,x=t.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((d=e[a])&&\"setAttribute\"in d==!!x&&(x?d.localName==x:3==d.nodeType)){u=d,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(d=u.attributes[a]).name]=d.value;for(a in b)if(d=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=d;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,d,o)}for(a in k)d=k[a],\"children\"==a?y=d:\"dangerouslySetInnerHTML\"==a?h=d:\"value\"==a?_=d:\"checked\"==a?m=d:c&&\"function\"!=typeof d||b[a]===d||j(u,a,d,b[a],o);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,w(y)?y:[y],t,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],o),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],o))}return u}function B(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function D(n,u,t){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||B(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&D(i[r],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function E(n,l,u){return this.constructor(n,u)}function G(u,t,i){var r,o,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),o=(r=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!r&&i||t).__k=_(k,null,[u]),o||p,p,t.namespaceURI,!r&&i?[i]:o?null:t.firstChild?n.call(t.childNodes):null,e,!r&&i?i:o?o.__e:t.firstChild,r,f),N(e,u,f)}function J(n,l){G(n,l,J)}function K(l,u,t){var i,r,o,e,f=d({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==o?i=u[o]:\"ref\"==o?r=u[o]:f[o]=void 0===u[o]&&null!=e?e[o]:u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,r||l.ref,null)}function Q(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,u,t){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=d({},this.state),\"function\"==typeof n&&(n=n(d({},u),this.props)),n&&d(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,K as cloneElement,Q as createContext,_ as createElement,b as createRef,_ as h,J as hydrate,t as isValidElement,l as options,G as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,35);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","export default (() => `.-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}`)();\n//# sourceMappingURL=Snackbar-css.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport { clsx } from 'clsx';\nimport { h, render } from 'preact';\nimport { useEffect, useState } from 'preact/hooks';\nimport { isDarkMode } from '../util.js';\nimport css from './Snackbar-css.js';\nconst cblogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nexport class Snackbar {\n    constructor() {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = isDarkMode();\n    }\n    attach(el) {\n        this.root = document.createElement('div');\n        this.root.className = '-cbwsdk-snackbar-root';\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        render(h(\"div\", null,\n            h(SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => (h(SnackbarInstance, Object.assign({}, itemProps, { key: key })))))), this.root);\n    }\n}\nexport const SnackbarContainer = (props) => (h(\"div\", { class: clsx('-cbwsdk-snackbar-container') },\n    h(\"style\", null, css),\n    h(\"div\", { class: \"-cbwsdk-snackbar\" }, props.children)));\nexport const SnackbarInstance = ({ autoExpand, message, menuItems, }) => {\n    const [hidden, setHidden] = useState(true);\n    const [expanded, setExpanded] = useState(autoExpand !== null && autoExpand !== void 0 ? autoExpand : false);\n    useEffect(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000),\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return (h(\"div\", { class: clsx('-cbwsdk-snackbar-instance', hidden && '-cbwsdk-snackbar-instance-hidden', expanded && '-cbwsdk-snackbar-instance-expanded') },\n        h(\"div\", { class: \"-cbwsdk-snackbar-instance-header\", onClick: toggleExpanded },\n            h(\"img\", { src: cblogo, class: \"-cbwsdk-snackbar-instance-header-cblogo\" }),\n            ' ',\n            h(\"div\", { class: \"-cbwsdk-snackbar-instance-header-message\" }, message),\n            h(\"div\", { class: \"-gear-container\" },\n                !expanded && (h(\"svg\", { width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                    h(\"circle\", { cx: \"12\", cy: \"12\", r: \"12\", fill: \"#F5F7F8\" }))),\n                h(\"img\", { src: gearIcon, class: \"-gear-icon\", title: \"Expand\" }))),\n        menuItems && menuItems.length > 0 && (h(\"div\", { class: \"-cbwsdk-snackbar-instance-menu\" }, menuItems.map((action, i) => (h(\"div\", { class: clsx('-cbwsdk-snackbar-instance-menu-item', action.isRed && '-cbwsdk-snackbar-instance-menu-item-is-red'), onClick: action.onClick, key: i },\n            h(\"svg\", { width: action.svgWidth, height: action.svgHeight, viewBox: \"0 0 10 11\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                h(\"path\", { \"fill-rule\": action.defaultFillRule, \"clip-rule\": action.defaultClipRule, d: action.path, fill: \"#AAAAAA\" })),\n            h(\"span\", { class: clsx('-cbwsdk-snackbar-instance-menu-item-info', action.isRed && '-cbwsdk-snackbar-instance-menu-item-info-is-red') }, action.info))))))));\n};\n//# sourceMappingURL=Snackbar.js.map","import { injectCssReset } from './components/cssReset/cssReset.js';\nimport { Snackbar } from './components/Snackbar/Snackbar.js';\nexport class WalletLinkRelayUI {\n    constructor() {\n        this.attached = false;\n        this.snackbar = new Snackbar();\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error('Coinbase Wallet SDK UI is already attached');\n        }\n        const el = document.documentElement;\n        const container = document.createElement('div');\n        container.className = '-cbwsdk-css-reset';\n        el.appendChild(container);\n        this.snackbar.attach(container);\n        this.attached = true;\n        injectCssReset();\n    }\n    showConnecting(options) {\n        let snackbarProps;\n        if (options.isUnlinkedErrorState) {\n            snackbarProps = {\n                autoExpand: true,\n                message: 'Connection lost',\n                menuItems: [\n                    {\n                        isRed: false,\n                        info: 'Reset connection',\n                        svgWidth: '10',\n                        svgHeight: '11',\n                        path: 'M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z',\n                        defaultFillRule: 'evenodd',\n                        defaultClipRule: 'evenodd',\n                        onClick: options.onResetConnection,\n                    },\n                ],\n            };\n        }\n        else {\n            snackbarProps = {\n                message: 'Confirm on phone',\n                menuItems: [\n                    {\n                        isRed: true,\n                        info: 'Cancel transaction',\n                        svgWidth: '11',\n                        svgHeight: '11',\n                        path: 'M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z',\n                        defaultFillRule: 'inherit',\n                        defaultClipRule: 'inherit',\n                        onClick: options.onCancel,\n                    },\n                    {\n                        isRed: false,\n                        info: 'Reset connection',\n                        svgWidth: '10',\n                        svgHeight: '11',\n                        path: 'M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z',\n                        defaultFillRule: 'evenodd',\n                        defaultClipRule: 'evenodd',\n                        onClick: options.onResetConnection,\n                    },\n                ],\n            };\n        }\n        return this.snackbar.presentItem(snackbarProps);\n    }\n}\n//# sourceMappingURL=WalletLinkRelayUI.js.map","export default (() => `.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}`)();\n//# sourceMappingURL=RedirectDialog-css.js.map","import { clsx } from 'clsx';\nimport { h, render } from 'preact';\nimport { injectCssReset } from '../cssReset/cssReset.js';\nimport { SnackbarContainer } from '../Snackbar/Snackbar.js';\nimport { isDarkMode } from '../util.js';\nimport css from './RedirectDialog-css.js';\nexport class RedirectDialog {\n    constructor() {\n        this.root = null;\n        this.darkMode = isDarkMode();\n    }\n    attach() {\n        const el = document.documentElement;\n        this.root = document.createElement('div');\n        this.root.className = '-cbwsdk-css-reset';\n        el.appendChild(this.root);\n        injectCssReset();\n    }\n    present(props) {\n        this.render(props);\n    }\n    clear() {\n        this.render(null);\n    }\n    render(props) {\n        if (!this.root)\n            return;\n        render(null, this.root);\n        if (!props)\n            return;\n        render(h(RedirectDialogContent, Object.assign({}, props, { onDismiss: () => {\n                this.clear();\n            }, darkMode: this.darkMode })), this.root);\n    }\n}\nconst RedirectDialogContent = ({ title, buttonText, darkMode, onButtonClick, onDismiss }) => {\n    const theme = darkMode ? 'dark' : 'light';\n    return (h(SnackbarContainer, { darkMode: darkMode },\n        h(\"div\", { class: \"-cbwsdk-redirect-dialog\" },\n            h(\"style\", null, css),\n            h(\"div\", { class: \"-cbwsdk-redirect-dialog-backdrop\", onClick: onDismiss }),\n            h(\"div\", { class: clsx('-cbwsdk-redirect-dialog-box', theme) },\n                h(\"p\", null, title),\n                h(\"button\", { onClick: onButtonClick }, buttonText)))));\n};\n//# sourceMappingURL=RedirectDialog.js.map","export const CB_KEYS_URL = 'https://keys.coinbase.com/connect';\nexport const CB_WALLET_RPC_URL = 'http://rpc.wallet.coinbase.com';\nexport const WALLETLINK_URL = 'https://www.walletlink.org';\nexport const CBW_MOBILE_DEEPLINK_URL = 'https://go.cb-w.com/walletlink';\n//# sourceMappingURL=constants.js.map","import { RedirectDialog } from './components/RedirectDialog/RedirectDialog.js';\nimport { getLocation } from './components/util.js';\nimport { CBW_MOBILE_DEEPLINK_URL } from '../../../../core/constants.js';\nexport class WLMobileRelayUI {\n    constructor() {\n        this.attached = false;\n        this.redirectDialog = new RedirectDialog();\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error('Coinbase Wallet SDK UI is already attached');\n        }\n        this.redirectDialog.attach();\n        this.attached = true;\n    }\n    redirectToCoinbaseWallet(walletLinkUrl) {\n        const url = new URL(CBW_MOBILE_DEEPLINK_URL);\n        url.searchParams.append('redirect_url', getLocation().href);\n        if (walletLinkUrl) {\n            url.searchParams.append('wl_url', walletLinkUrl);\n        }\n        const anchorTag = document.createElement('a');\n        anchorTag.target = 'cbw-opener';\n        anchorTag.href = url.href;\n        anchorTag.rel = 'noreferrer noopener';\n        anchorTag.click();\n    }\n    openCoinbaseWalletDeeplink(walletLinkUrl) {\n        this.redirectDialog.present({\n            title: 'Redirecting to Coinbase Wallet...',\n            buttonText: 'Open',\n            onButtonClick: () => {\n                this.redirectToCoinbaseWallet(walletLinkUrl);\n            },\n        });\n        setTimeout(() => {\n            this.redirectToCoinbaseWallet(walletLinkUrl);\n        }, 99);\n    }\n    showConnecting(_options) {\n        // it uses the return callback to clear the dialog\n        return () => {\n            this.redirectDialog.clear();\n        };\n    }\n}\n//# sourceMappingURL=WLMobileRelayUI.js.map","// Copyright (c) 2018-2023 Coinbase, Inc. <https://www.coinbase.com/>\nimport { WalletLinkConnection, } from './connection/WalletLinkConnection.js';\nimport { LOCAL_STORAGE_ADDRESSES_KEY } from './constants.js';\nimport { RelayEventManager } from './RelayEventManager.js';\nimport { WalletLinkSession } from './type/WalletLinkSession.js';\nimport { isErrorResponse } from './type/Web3Response.js';\nimport { isMobileWeb } from './ui/components/util.js';\nimport { WalletLinkRelayUI } from './ui/WalletLinkRelayUI.js';\nimport { WLMobileRelayUI } from './ui/WLMobileRelayUI.js';\nimport { standardErrors } from '../../../core/error/errors.js';\nimport { ScopedLocalStorage } from '../../../core/storage/ScopedLocalStorage.js';\nimport { bigIntStringFromBigInt, hexStringFromBuffer, randomBytesHex } from '../../../core/type/util.js';\nexport class WalletLinkRelay {\n    constructor(options) {\n        this.chainCallbackParams = { chainId: '', jsonRpcUrl: '' }; // to implement distinctUntilChanged\n        this.isMobileWeb = isMobileWeb();\n        this.linkedUpdated = (linked) => {\n            this.isLinked = linked;\n            const cachedAddresses = this.storage.getItem(LOCAL_STORAGE_ADDRESSES_KEY);\n            if (linked) {\n                // Only set linked session variable one way\n                this._session.linked = linked;\n            }\n            this.isUnlinkedErrorState = false;\n            if (cachedAddresses) {\n                const addresses = cachedAddresses.split(' ');\n                const wasConnectedViaStandalone = this.storage.getItem('IsStandaloneSigning') === 'true';\n                if (addresses[0] !== '' && !linked && this._session.linked && !wasConnectedViaStandalone) {\n                    this.isUnlinkedErrorState = true;\n                }\n            }\n        };\n        this.metadataUpdated = (key, value) => {\n            this.storage.setItem(key, value);\n        };\n        this.chainUpdated = (chainId, jsonRpcUrl) => {\n            if (this.chainCallbackParams.chainId === chainId &&\n                this.chainCallbackParams.jsonRpcUrl === jsonRpcUrl) {\n                return;\n            }\n            this.chainCallbackParams = {\n                chainId,\n                jsonRpcUrl,\n            };\n            if (this.chainCallback) {\n                this.chainCallback(jsonRpcUrl, Number.parseInt(chainId, 10));\n            }\n        };\n        this.accountUpdated = (selectedAddress) => {\n            if (this.accountsCallback) {\n                this.accountsCallback([selectedAddress]);\n            }\n            if (WalletLinkRelay.accountRequestCallbackIds.size > 0) {\n                // We get the ethereum address from the metadata.  If for whatever\n                // reason we don't get a response via an explicit web3 message\n                // we can still fulfill the eip1102 request.\n                Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach((id) => {\n                    this.invokeCallback(id, {\n                        method: 'requestEthereumAccounts',\n                        result: [selectedAddress],\n                    });\n                });\n                WalletLinkRelay.accountRequestCallbackIds.clear();\n            }\n        };\n        this.resetAndReload = this.resetAndReload.bind(this);\n        this.linkAPIUrl = options.linkAPIUrl;\n        this.storage = options.storage;\n        this.metadata = options.metadata;\n        this.accountsCallback = options.accountsCallback;\n        this.chainCallback = options.chainCallback;\n        const { session, ui, connection } = this.subscribe();\n        this._session = session;\n        this.connection = connection;\n        this.relayEventManager = new RelayEventManager();\n        this.ui = ui;\n        this.ui.attach();\n    }\n    subscribe() {\n        const session = WalletLinkSession.load(this.storage) || WalletLinkSession.create(this.storage);\n        const { linkAPIUrl } = this;\n        const connection = new WalletLinkConnection({\n            session,\n            linkAPIUrl,\n            listener: this,\n        });\n        const ui = this.isMobileWeb ? new WLMobileRelayUI() : new WalletLinkRelayUI();\n        connection.connect();\n        return { session, ui, connection };\n    }\n    resetAndReload() {\n        this.connection\n            .destroy()\n            .then(() => {\n            /**\n             * Only clear storage if the session id we have in memory matches the one on disk\n             * Otherwise, in the case where we have 2 tabs, another tab might have cleared\n             * storage already.  In that case if we clear storage again, the user will be in\n             * a state where the first tab allows the user to connect but the session that\n             * was used isn't persisted.  This leaves the user in a state where they aren't\n             * connected to the mobile app.\n             */\n            const storedSession = WalletLinkSession.load(this.storage);\n            if ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) === this._session.id) {\n                ScopedLocalStorage.clearAll();\n            }\n            document.location.reload();\n        })\n            .catch((_) => { });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: 'signEthereumTransaction',\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: bigIntStringFromBigInt(params.weiValue),\n                data: hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei ? bigIntStringFromBigInt(params.gasPriceInWei) : null,\n                maxFeePerGas: params.gasPriceInWei ? bigIntStringFromBigInt(params.gasPriceInWei) : null,\n                maxPriorityFeePerGas: params.gasPriceInWei\n                    ? bigIntStringFromBigInt(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? bigIntStringFromBigInt(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false,\n            },\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: 'signEthereumTransaction',\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: bigIntStringFromBigInt(params.weiValue),\n                data: hexStringFromBuffer(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei ? bigIntStringFromBigInt(params.gasPriceInWei) : null,\n                maxFeePerGas: params.maxFeePerGas ? bigIntStringFromBigInt(params.maxFeePerGas) : null,\n                maxPriorityFeePerGas: params.maxPriorityFeePerGas\n                    ? bigIntStringFromBigInt(params.maxPriorityFeePerGas)\n                    : null,\n                gasLimit: params.gasLimit ? bigIntStringFromBigInt(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true,\n            },\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: 'submitEthereumTransaction',\n            params: {\n                signedTransaction: hexStringFromBuffer(signedTransaction, true),\n                chainId,\n            },\n        });\n    }\n    getWalletLinkSession() {\n        return this._session;\n    }\n    sendRequest(request) {\n        let hideSnackbarItem = null;\n        const id = randomBytesHex(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        return new Promise((resolve, reject) => {\n            {\n                hideSnackbarItem = this.ui.showConnecting({\n                    isUnlinkedErrorState: this.isUnlinkedErrorState,\n                    onCancel: cancel,\n                    onResetConnection: this.resetAndReload, // eslint-disable-line @typescript-eslint/unbound-method\n                });\n            }\n            this.relayEventManager.callbacks.set(id, (response) => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (isErrorResponse(response)) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            this.publishWeb3RequestEvent(id, request);\n        });\n    }\n    publishWeb3RequestEvent(id, request) {\n        const message = { type: 'WEB3_REQUEST', id, request };\n        this.publishEvent('Web3Request', message, true)\n            .then((_) => { })\n            .catch((err) => {\n            this.handleWeb3ResponseMessage(message.id, {\n                method: request.method,\n                errorMessage: err.message,\n            });\n        });\n        if (this.isMobileWeb) {\n            this.openCoinbaseWalletDeeplink(request.method);\n        }\n    }\n    // copied from MobileRelay\n    openCoinbaseWalletDeeplink(method) {\n        if (!(this.ui instanceof WLMobileRelayUI))\n            return;\n        // For mobile relay requests, open the Coinbase Wallet app\n        switch (method) {\n            case 'requestEthereumAccounts': // requestEthereumAccounts is handled via popup\n            case 'switchEthereumChain': // switchEthereumChain doesn't need to open the app\n                return;\n            default:\n                window.addEventListener('blur', () => {\n                    window.addEventListener('focus', () => {\n                        this.connection.checkUnseenEvents();\n                    }, { once: true });\n                }, { once: true });\n                this.ui.openCoinbaseWalletDeeplink();\n                break;\n        }\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = {\n            type: 'WEB3_REQUEST_CANCELED',\n            id,\n        };\n        this.publishEvent('Web3RequestCanceled', message, false).then();\n    }\n    publishEvent(event, message, callWebhook) {\n        return this.connection.publishEvent(event, message, callWebhook);\n    }\n    handleWeb3ResponseMessage(id, response) {\n        if (response.method === 'requestEthereumAccounts') {\n            WalletLinkRelay.accountRequestCallbackIds.forEach((id) => this.invokeCallback(id, response));\n            WalletLinkRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(id, response);\n    }\n    handleErrorResponse(id, method, error) {\n        var _a;\n        const errorMessage = (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : 'Unspecified error message.';\n        this.handleWeb3ResponseMessage(id, {\n            method,\n            errorMessage,\n        });\n    }\n    invokeCallback(id, response) {\n        const callback = this.relayEventManager.callbacks.get(id);\n        if (callback) {\n            callback(response);\n            this.relayEventManager.callbacks.delete(id);\n        }\n    }\n    requestEthereumAccounts() {\n        const { appName, appLogoUrl } = this.metadata;\n        const request = {\n            method: 'requestEthereumAccounts',\n            params: {\n                appName,\n                appLogoUrl,\n            },\n        };\n        const hideSnackbarItem = null;\n        const id = randomBytesHex(8);\n        return new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, (response) => {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (isErrorResponse(response)) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            WalletLinkRelay.accountRequestCallbackIds.add(id);\n            this.publishWeb3RequestEvent(id, request);\n        });\n    }\n    watchAsset(type, address, symbol, decimals, image, chainId) {\n        const request = {\n            method: 'watchAsset',\n            params: {\n                type,\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image,\n                },\n                chainId,\n            },\n        };\n        let hideSnackbarItem = null;\n        const id = randomBytesHex(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload, // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        return new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, (response) => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (isErrorResponse(response)) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            this.publishWeb3RequestEvent(id, request);\n        });\n    }\n    addEthereumChain(chainId, rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency) {\n        const request = {\n            method: 'addEthereumChain',\n            params: {\n                chainId,\n                rpcUrls,\n                blockExplorerUrls,\n                chainName,\n                iconUrls,\n                nativeCurrency,\n            },\n        };\n        let hideSnackbarItem = null;\n        const id = randomBytesHex(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload, // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        return new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, (response) => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (isErrorResponse(response)) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            this.publishWeb3RequestEvent(id, request);\n        });\n    }\n    switchEthereumChain(chainId, address) {\n        const request = {\n            method: 'switchEthereumChain',\n            params: Object.assign({ chainId }, { address }),\n        };\n        let hideSnackbarItem = null;\n        const id = randomBytesHex(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload, // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        return new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, (response) => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (isErrorResponse(response) && response.errorCode) {\n                    return reject(standardErrors.provider.custom({\n                        code: response.errorCode,\n                        message: `Unrecognized chain ID. Try adding the chain using addEthereumChain first.`,\n                    }));\n                }\n                else if (isErrorResponse(response)) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            this.publishWeb3RequestEvent(id, request);\n        });\n    }\n}\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n//# sourceMappingURL=WalletLinkRelay.js.map","// Copyright (c) 2018-2024 Coinbase, Inc. <https://www.coinbase.com/>\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\nimport eip712 from '../../vendor-js/eth-eip712-util/index.cjs';\nimport { LOCAL_STORAGE_ADDRESSES_KEY } from './relay/constants.js';\nimport { isErrorResponse } from './relay/type/Web3Response.js';\nimport { WalletLinkRelay } from './relay/WalletLinkRelay.js';\nimport { WALLETLINK_URL } from '../../core/constants.js';\nimport { standardErrors } from '../../core/error/errors.js';\nimport { ScopedLocalStorage } from '../../core/storage/ScopedLocalStorage.js';\nimport { encodeToHexString, ensureAddressString, ensureBigInt, ensureBuffer, ensureIntNumber, ensureParsedJSONObject, hexStringFromBuffer, hexStringFromNumber, } from '../../core/type/util.js';\nimport { fetchRPCRequest } from '../../util/provider.js';\nconst DEFAULT_CHAIN_ID_KEY = 'DefaultChainId';\nconst DEFAULT_JSON_RPC_URL = 'DefaultJsonRpcUrl';\n// original source: https://github.com/coinbase/coinbase-wallet-sdk/blob/v3.7.1/packages/wallet-sdk/src/provider/CoinbaseWalletProvider.ts\nexport class WalletLinkSigner {\n    constructor(options) {\n        this._relay = null;\n        this._addresses = [];\n        this.metadata = options.metadata;\n        this._storage = new ScopedLocalStorage('walletlink', WALLETLINK_URL);\n        this.callback = options.callback || null;\n        const cachedAddresses = this._storage.getItem(LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cachedAddresses) {\n            const addresses = cachedAddresses.split(' ');\n            if (addresses[0] !== '') {\n                this._addresses = addresses.map((address) => ensureAddressString(address));\n            }\n        }\n        this.initializeRelay();\n    }\n    getSession() {\n        const relay = this.initializeRelay();\n        const { id, secret } = relay.getWalletLinkSession();\n        return { id, secret };\n    }\n    async handshake() {\n        await this._eth_requestAccounts();\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get jsonRpcUrl() {\n        var _a;\n        return (_a = this._storage.getItem(DEFAULT_JSON_RPC_URL)) !== null && _a !== void 0 ? _a : undefined;\n    }\n    set jsonRpcUrl(value) {\n        this._storage.setItem(DEFAULT_JSON_RPC_URL, value);\n    }\n    updateProviderInfo(jsonRpcUrl, chainId) {\n        var _a;\n        this.jsonRpcUrl = jsonRpcUrl;\n        // emit chainChanged event if necessary\n        const originalChainId = this.getChainId();\n        this._storage.setItem(DEFAULT_CHAIN_ID_KEY, chainId.toString(10));\n        const chainChanged = ensureIntNumber(chainId) !== originalChainId;\n        if (chainChanged) {\n            (_a = this.callback) === null || _a === void 0 ? void 0 : _a.call(this, 'chainChanged', hexStringFromNumber(chainId));\n        }\n    }\n    async watchAsset(params) {\n        const request = (Array.isArray(params) ? params[0] : params);\n        if (!request.type) {\n            throw standardErrors.rpc.invalidParams('Type is required');\n        }\n        if ((request === null || request === void 0 ? void 0 : request.type) !== 'ERC20') {\n            throw standardErrors.rpc.invalidParams(`Asset of type '${request.type}' is not supported`);\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options)) {\n            throw standardErrors.rpc.invalidParams('Options are required');\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options.address)) {\n            throw standardErrors.rpc.invalidParams('Address is required');\n        }\n        const chainId = this.getChainId();\n        const { address, symbol, image, decimals } = request.options;\n        const relay = this.initializeRelay();\n        const result = await relay.watchAsset(request.type, address, symbol, decimals, image, chainId === null || chainId === void 0 ? void 0 : chainId.toString());\n        if (isErrorResponse(result))\n            return false;\n        return !!result.result;\n    }\n    async addEthereumChain(params) {\n        var _a, _b;\n        const request = params[0];\n        if (((_a = request.rpcUrls) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            throw standardErrors.rpc.invalidParams('please pass in at least 1 rpcUrl');\n        }\n        if (!request.chainName || request.chainName.trim() === '') {\n            throw standardErrors.rpc.invalidParams('chainName is a required field');\n        }\n        if (!request.nativeCurrency) {\n            throw standardErrors.rpc.invalidParams('nativeCurrency is a required field');\n        }\n        const chainIdNumber = Number.parseInt(request.chainId, 16);\n        if (chainIdNumber === this.getChainId()) {\n            return false;\n        }\n        const relay = this.initializeRelay();\n        const { rpcUrls = [], blockExplorerUrls = [], chainName, iconUrls = [], nativeCurrency, } = request;\n        const res = await relay.addEthereumChain(chainIdNumber.toString(), rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency);\n        if (isErrorResponse(res))\n            return false;\n        if (((_b = res.result) === null || _b === void 0 ? void 0 : _b.isApproved) === true) {\n            this.updateProviderInfo(rpcUrls[0], chainIdNumber);\n            return null;\n        }\n        throw standardErrors.rpc.internal('unable to add ethereum chain');\n    }\n    async switchEthereumChain(params) {\n        const request = params[0];\n        const chainId = Number.parseInt(request.chainId, 16);\n        const relay = this.initializeRelay();\n        const res = await relay.switchEthereumChain(chainId.toString(10), this.selectedAddress || undefined);\n        if (isErrorResponse(res))\n            throw res;\n        const switchResponse = res.result;\n        if (switchResponse.isApproved && switchResponse.rpcUrl.length > 0) {\n            this.updateProviderInfo(switchResponse.rpcUrl, chainId);\n        }\n        return null;\n    }\n    async cleanup() {\n        this.callback = null;\n        if (this._relay) {\n            this._relay.resetAndReload();\n        }\n        this._storage.clear();\n    }\n    _setAddresses(addresses, _) {\n        var _a;\n        if (!Array.isArray(addresses)) {\n            throw new Error('addresses is not an array');\n        }\n        const newAddresses = addresses.map((address) => ensureAddressString(address));\n        if (JSON.stringify(newAddresses) === JSON.stringify(this._addresses)) {\n            return;\n        }\n        this._addresses = newAddresses;\n        (_a = this.callback) === null || _a === void 0 ? void 0 : _a.call(this, 'accountsChanged', newAddresses);\n        this._storage.setItem(LOCAL_STORAGE_ADDRESSES_KEY, newAddresses.join(' '));\n    }\n    async request(request) {\n        const params = request.params || [];\n        switch (request.method) {\n            case 'eth_accounts':\n                return [...this._addresses];\n            case 'eth_coinbase':\n                return this.selectedAddress || null;\n            case 'net_version':\n                return this.getChainId().toString(10);\n            case 'eth_chainId':\n                return hexStringFromNumber(this.getChainId());\n            case 'eth_requestAccounts':\n                return this._eth_requestAccounts();\n            case 'eth_ecRecover':\n            case 'personal_ecRecover':\n                return this.ecRecover(request);\n            case 'personal_sign':\n                return this.personalSign(request);\n            case 'eth_signTransaction':\n                return this._eth_signTransaction(params);\n            case 'eth_sendRawTransaction':\n                return this._eth_sendRawTransaction(params);\n            case 'eth_sendTransaction':\n                return this._eth_sendTransaction(params);\n            case 'eth_signTypedData_v1':\n            case 'eth_signTypedData_v3':\n            case 'eth_signTypedData_v4':\n            case 'eth_signTypedData':\n                return this.signTypedData(request);\n            case 'wallet_addEthereumChain':\n                return this.addEthereumChain(params);\n            case 'wallet_switchEthereumChain':\n                return this.switchEthereumChain(params);\n            case 'wallet_watchAsset':\n                return this.watchAsset(params);\n            default:\n                if (!this.jsonRpcUrl)\n                    throw standardErrors.rpc.internal('No RPC URL set for chain');\n                return fetchRPCRequest(request, this.jsonRpcUrl);\n        }\n    }\n    _ensureKnownAddress(addressString) {\n        const addressStr = ensureAddressString(addressString);\n        const lowercaseAddresses = this._addresses.map((address) => ensureAddressString(address));\n        if (!lowercaseAddresses.includes(addressStr)) {\n            throw new Error('Unknown Ethereum address');\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from ? ensureAddressString(tx.from) : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error('Ethereum address is unavailable');\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? ensureAddressString(tx.to) : null;\n        const weiValue = tx.value != null ? ensureBigInt(tx.value) : BigInt(0);\n        const data = tx.data ? ensureBuffer(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? ensureIntNumber(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? ensureBigInt(tx.gasPrice) : null;\n        const maxFeePerGas = tx.maxFeePerGas != null ? ensureBigInt(tx.maxFeePerGas) : null;\n        const maxPriorityFeePerGas = tx.maxPriorityFeePerGas != null ? ensureBigInt(tx.maxPriorityFeePerGas) : null;\n        const gasLimit = tx.gas != null ? ensureBigInt(tx.gas) : null;\n        const chainId = tx.chainId ? ensureIntNumber(tx.chainId) : this.getChainId();\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            gasLimit,\n            chainId,\n        };\n    }\n    async ecRecover(request) {\n        const { method, params } = request;\n        if (!Array.isArray(params))\n            throw standardErrors.rpc.invalidParams();\n        const relay = this.initializeRelay();\n        const res = await relay.sendRequest({\n            method: 'ethereumAddressFromSignedMessage',\n            params: {\n                message: encodeToHexString(params[0]),\n                signature: encodeToHexString(params[1]),\n                addPrefix: method === 'personal_ecRecover',\n            },\n        });\n        if (isErrorResponse(res))\n            throw res;\n        return res.result;\n    }\n    getChainId() {\n        var _a;\n        return Number.parseInt((_a = this._storage.getItem(DEFAULT_CHAIN_ID_KEY)) !== null && _a !== void 0 ? _a : '1', 10);\n    }\n    async _eth_requestAccounts() {\n        var _a, _b;\n        if (this._addresses.length > 0) {\n            (_a = this.callback) === null || _a === void 0 ? void 0 : _a.call(this, 'connect', { chainId: hexStringFromNumber(this.getChainId()) });\n            return this._addresses;\n        }\n        const relay = this.initializeRelay();\n        const res = await relay.requestEthereumAccounts();\n        if (isErrorResponse(res))\n            throw res;\n        if (!res.result) {\n            throw new Error('accounts received is empty');\n        }\n        this._setAddresses(res.result);\n        (_b = this.callback) === null || _b === void 0 ? void 0 : _b.call(this, 'connect', { chainId: hexStringFromNumber(this.getChainId()) });\n        return this._addresses;\n    }\n    async personalSign({ params }) {\n        if (!Array.isArray(params))\n            throw standardErrors.rpc.invalidParams();\n        const address = params[1];\n        const rawData = params[0];\n        this._ensureKnownAddress(address);\n        const relay = this.initializeRelay();\n        const res = await relay.sendRequest({\n            method: 'signEthereumMessage',\n            params: {\n                address: ensureAddressString(address),\n                message: encodeToHexString(rawData),\n                addPrefix: true,\n                typedDataJson: null,\n            },\n        });\n        if (isErrorResponse(res))\n            throw res;\n        return res.result;\n    }\n    async _eth_signTransaction(params) {\n        const tx = this._prepareTransactionParams(params[0] || {});\n        const relay = this.initializeRelay();\n        const res = await relay.signEthereumTransaction(tx);\n        if (isErrorResponse(res))\n            throw res;\n        return res.result;\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = ensureBuffer(params[0]);\n        const relay = this.initializeRelay();\n        const res = await relay.submitEthereumTransaction(signedTransaction, this.getChainId());\n        if (isErrorResponse(res))\n            throw res;\n        return res.result;\n    }\n    async _eth_sendTransaction(params) {\n        const tx = this._prepareTransactionParams(params[0] || {});\n        const relay = this.initializeRelay();\n        const res = await relay.signAndSubmitEthereumTransaction(tx);\n        if (isErrorResponse(res))\n            throw res;\n        return res.result;\n    }\n    async signTypedData(request) {\n        const { method, params } = request;\n        if (!Array.isArray(params))\n            throw standardErrors.rpc.invalidParams();\n        const encode = (input) => {\n            const hashFuncMap = {\n                eth_signTypedData_v1: eip712.hashForSignTypedDataLegacy,\n                eth_signTypedData_v3: eip712.hashForSignTypedData_v3,\n                eth_signTypedData_v4: eip712.hashForSignTypedData_v4,\n                eth_signTypedData: eip712.hashForSignTypedData_v4,\n            };\n            return hexStringFromBuffer(hashFuncMap[method]({\n                data: ensureParsedJSONObject(input),\n            }), true);\n        };\n        const address = params[method === 'eth_signTypedData_v1' ? 1 : 0];\n        const rawData = params[method === 'eth_signTypedData_v1' ? 0 : 1];\n        this._ensureKnownAddress(address);\n        const relay = this.initializeRelay();\n        const res = await relay.sendRequest({\n            method: 'signEthereumMessage',\n            params: {\n                address: ensureAddressString(address),\n                message: encode(rawData),\n                typedDataJson: JSON.stringify(rawData, null, 2),\n                addPrefix: false,\n            },\n        });\n        if (isErrorResponse(res))\n            throw res;\n        return res.result;\n    }\n    initializeRelay() {\n        if (!this._relay) {\n            this._relay = new WalletLinkRelay({\n                linkAPIUrl: WALLETLINK_URL,\n                storage: this._storage,\n                metadata: this.metadata,\n                accountsCallback: this._setAddresses.bind(this),\n                chainCallback: this.updateProviderInfo.bind(this),\n            });\n        }\n        return this._relay;\n    }\n}\n//# sourceMappingURL=WalletLinkSigner.js.map","import { SCWSigner } from './scw/SCWSigner.js';\nimport { WalletLinkSigner } from './walletlink/WalletLinkSigner.js';\nimport { ScopedLocalStorage } from '../core/storage/ScopedLocalStorage.js';\nconst SIGNER_TYPE_KEY = 'SignerType';\nconst storage = new ScopedLocalStorage('CBWSDK', 'SignerConfigurator');\nexport function loadSignerType() {\n    return storage.getItem(SIGNER_TYPE_KEY);\n}\nexport function storeSignerType(signerType) {\n    storage.setItem(SIGNER_TYPE_KEY, signerType);\n}\nexport async function fetchSignerType(params) {\n    const { communicator, metadata, handshakeRequest, callback } = params;\n    listenForWalletLinkSessionRequest(communicator, metadata, callback).catch(() => { });\n    const request = {\n        id: crypto.randomUUID(),\n        event: 'selectSignerType',\n        data: Object.assign(Object.assign({}, params.preference), { handshakeRequest }),\n    };\n    const { data } = await communicator.postRequestAndWaitForResponse(request);\n    return data;\n}\nexport function createSigner(params) {\n    const { signerType, metadata, communicator, callback } = params;\n    switch (signerType) {\n        case 'scw': {\n            return new SCWSigner({\n                metadata,\n                callback,\n                communicator,\n            });\n        }\n        case 'walletlink': {\n            return new WalletLinkSigner({\n                metadata,\n                callback,\n            });\n        }\n    }\n}\nasync function listenForWalletLinkSessionRequest(communicator, metadata, callback) {\n    await communicator.onMessage(({ event }) => event === 'WalletLinkSessionRequest');\n    // temporary walletlink signer instance to handle WalletLinkSessionRequest\n    // will revisit this when refactoring the walletlink signer\n    const walletlink = new WalletLinkSigner({\n        metadata,\n        callback,\n    });\n    // send wallet link session to popup\n    communicator.postMessage({\n        event: 'WalletLinkUpdate',\n        data: { session: walletlink.getSession() },\n    });\n    // wait for handshake to complete\n    await walletlink.handshake();\n    // send connected status to popup\n    communicator.postMessage({\n        event: 'WalletLinkUpdate',\n        data: { connected: true },\n    });\n}\n//# sourceMappingURL=util.js.map","const COOP_ERROR_MESSAGE = `Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.\n\nPlease see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`;\n/**\n * Creates a checker for the Cross-Origin-Opener-Policy (COOP).\n *\n * @returns An object with methods to get and check the Cross-Origin-Opener-Policy.\n *\n * @method getCrossOriginOpenerPolicy\n * Retrieves current Cross-Origin-Opener-Policy.\n * @throws Will throw an error if the policy has not been checked yet.\n *\n * @method checkCrossOriginOpenerPolicy\n * Checks the Cross-Origin-Opener-Policy of the current environment.\n * If in a non-browser environment, sets the policy to 'non-browser-env'.\n * If in a browser environment, fetches the policy from the current origin.\n * Logs an error if the policy is 'same-origin'.\n */\nconst createCoopChecker = () => {\n    let crossOriginOpenerPolicy;\n    return {\n        getCrossOriginOpenerPolicy: () => {\n            if (crossOriginOpenerPolicy === undefined) {\n                return 'undefined';\n            }\n            return crossOriginOpenerPolicy;\n        },\n        checkCrossOriginOpenerPolicy: async () => {\n            if (typeof window === 'undefined') {\n                // Non-browser environment\n                crossOriginOpenerPolicy = 'non-browser-env';\n                return;\n            }\n            try {\n                const url = `${window.location.origin}${window.location.pathname}`;\n                const response = await fetch(url, {\n                    method: 'HEAD',\n                });\n                if (!response.ok) {\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n                const result = response.headers.get('Cross-Origin-Opener-Policy');\n                crossOriginOpenerPolicy = result !== null && result !== void 0 ? result : 'null';\n                if (crossOriginOpenerPolicy === 'same-origin') {\n                    console.error(COOP_ERROR_MESSAGE);\n                }\n            }\n            catch (error) {\n                console.error('Error checking Cross-Origin-Opener-Policy:', error.message);\n                crossOriginOpenerPolicy = 'error';\n            }\n        },\n    };\n};\nexport const { checkCrossOriginOpenerPolicy, getCrossOriginOpenerPolicy } = createCoopChecker();\n//# sourceMappingURL=checkCrossOriginOpenerPolicy.js.map","import { NAME, VERSION } from '../sdk-info.js';\nimport { getCrossOriginOpenerPolicy } from './checkCrossOriginOpenerPolicy.js';\nimport { standardErrors } from '../core/error/errors.js';\nconst POPUP_WIDTH = 420;\nconst POPUP_HEIGHT = 540;\n// Window Management\nexport function openPopup(url) {\n    const left = (window.innerWidth - POPUP_WIDTH) / 2 + window.screenX;\n    const top = (window.innerHeight - POPUP_HEIGHT) / 2 + window.screenY;\n    appendAppInfoQueryParams(url);\n    const popupId = `wallet_${crypto.randomUUID()}`;\n    const popup = window.open(url, popupId, `width=${POPUP_WIDTH}, height=${POPUP_HEIGHT}, left=${left}, top=${top}`);\n    popup === null || popup === void 0 ? void 0 : popup.focus();\n    if (!popup) {\n        throw standardErrors.rpc.internal('Pop up window failed to open');\n    }\n    return popup;\n}\nexport function closePopup(popup) {\n    if (popup && !popup.closed) {\n        popup.close();\n    }\n}\nfunction appendAppInfoQueryParams(url) {\n    const params = {\n        sdkName: NAME,\n        sdkVersion: VERSION,\n        origin: window.location.origin,\n        coop: getCrossOriginOpenerPolicy(),\n    };\n    for (const [key, value] of Object.entries(params)) {\n        url.searchParams.append(key, value.toString());\n    }\n}\n//# sourceMappingURL=web.js.map","import { VERSION } from '../../sdk-info.js';\nimport { CB_KEYS_URL } from '../constants.js';\nimport { standardErrors } from '../error/errors.js';\nimport { closePopup, openPopup } from '../../util/web.js';\n/**\n * Communicates with a popup window for Coinbase keys.coinbase.com (or another url)\n * to send and receive messages.\n *\n * This class is responsible for opening a popup window, posting messages to it,\n * and listening for responses.\n *\n * It also handles cleanup of event listeners and the popup window itself when necessary.\n */\nexport class Communicator {\n    constructor({ url = CB_KEYS_URL, metadata, preference }) {\n        this.popup = null;\n        this.listeners = new Map();\n        /**\n         * Posts a message to the popup window\n         */\n        this.postMessage = async (message) => {\n            const popup = await this.waitForPopupLoaded();\n            popup.postMessage(message, this.url.origin);\n        };\n        /**\n         * Posts a request to the popup window and waits for a response\n         */\n        this.postRequestAndWaitForResponse = async (request) => {\n            const responsePromise = this.onMessage(({ requestId }) => requestId === request.id);\n            this.postMessage(request);\n            return await responsePromise;\n        };\n        /**\n         * Listens for messages from the popup window that match a given predicate.\n         */\n        this.onMessage = async (predicate) => {\n            return new Promise((resolve, reject) => {\n                const listener = (event) => {\n                    if (event.origin !== this.url.origin)\n                        return; // origin validation\n                    const message = event.data;\n                    if (predicate(message)) {\n                        resolve(message);\n                        window.removeEventListener('message', listener);\n                        this.listeners.delete(listener);\n                    }\n                };\n                window.addEventListener('message', listener);\n                this.listeners.set(listener, { reject });\n            });\n        };\n        /**\n         * Closes the popup, rejects all requests and clears the listeners\n         */\n        this.disconnect = () => {\n            // Note: keys popup handles closing itself. this is a fallback.\n            closePopup(this.popup);\n            this.popup = null;\n            this.listeners.forEach(({ reject }, listener) => {\n                reject(standardErrors.provider.userRejectedRequest('Request rejected'));\n                window.removeEventListener('message', listener);\n            });\n            this.listeners.clear();\n        };\n        /**\n         * Waits for the popup window to fully load and then sends a version message.\n         */\n        this.waitForPopupLoaded = async () => {\n            if (this.popup && !this.popup.closed) {\n                // In case the user un-focused the popup between requests, focus it again\n                this.popup.focus();\n                return this.popup;\n            }\n            this.popup = openPopup(this.url);\n            this.onMessage(({ event }) => event === 'PopupUnload')\n                .then(this.disconnect)\n                .catch(() => { });\n            return this.onMessage(({ event }) => event === 'PopupLoaded')\n                .then((message) => {\n                this.postMessage({\n                    requestId: message.id,\n                    data: {\n                        version: VERSION,\n                        metadata: this.metadata,\n                        preference: this.preference,\n                        location: window.location.toString(),\n                    },\n                });\n            })\n                .then(() => {\n                if (!this.popup)\n                    throw standardErrors.rpc.internal();\n                return this.popup;\n            });\n        };\n        this.url = new URL(url);\n        this.metadata = metadata;\n        this.preference = preference;\n    }\n}\n//# sourceMappingURL=Communicator.js.map","// TODO: error should not depend on walletlink. revisit this.\nimport { VERSION } from '../../sdk-info.js';\nimport { isErrorResponse } from '../../sign/walletlink/relay/type/Web3Response.js';\nimport { standardErrorCodes } from './constants.js';\nimport { serialize } from './utils.js';\n/**\n * Serializes an error to a format that is compatible with the Ethereum JSON RPC error format.\n * See https://docs.cloud.coinbase.com/wallet-sdk/docs/errors\n * for more information.\n */\nexport function serializeError(error) {\n    const serialized = serialize(getErrorObject(error), {\n        shouldIncludeStack: true,\n    });\n    const docUrl = new URL('https://docs.cloud.coinbase.com/wallet-sdk/docs/errors');\n    docUrl.searchParams.set('version', VERSION);\n    docUrl.searchParams.set('code', serialized.code.toString());\n    docUrl.searchParams.set('message', serialized.message);\n    return Object.assign(Object.assign({}, serialized), { docUrl: docUrl.href });\n}\n/**\n * Converts an error to a serializable object.\n */\nfunction getErrorObject(error) {\n    var _a;\n    if (typeof error === 'string') {\n        return {\n            message: error,\n            code: standardErrorCodes.rpc.internal,\n        };\n    }\n    else if (isErrorResponse(error)) {\n        const message = error.errorMessage;\n        const code = (_a = error.errorCode) !== null && _a !== void 0 ? _a : (message.match(/(denied|rejected)/i)\n            ? standardErrorCodes.provider.userRejectedRequest\n            : undefined);\n        return Object.assign(Object.assign({}, error), { message,\n            code, data: { method: error.method } });\n    }\n    return error;\n}\n//# sourceMappingURL=serialize.js.map","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import { EventEmitter } from 'eventemitter3';\nexport class ProviderEventEmitter extends EventEmitter {\n}\n//# sourceMappingURL=interface.js.map","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { createSigner, fetchSignerType, loadSignerType, storeSignerType } from './sign/util.js';\nimport { Communicator } from './core/communicator/Communicator.js';\nimport { CB_WALLET_RPC_URL } from './core/constants.js';\nimport { standardErrorCodes } from './core/error/constants.js';\nimport { standardErrors } from './core/error/errors.js';\nimport { serializeError } from './core/error/serialize.js';\nimport { ProviderEventEmitter, } from './core/provider/interface.js';\nimport { ScopedLocalStorage } from './core/storage/ScopedLocalStorage.js';\nimport { hexStringFromNumber } from './core/type/util.js';\nimport { checkErrorForInvalidRequestArgs, fetchRPCRequest } from './util/provider.js';\nexport class CoinbaseWalletProvider extends ProviderEventEmitter {\n    constructor(_a) {\n        var { metadata } = _a, _b = _a.preference, { keysUrl } = _b, preference = __rest(_b, [\"keysUrl\"]);\n        super();\n        this.signer = null;\n        this.isCoinbaseWallet = true;\n        this.metadata = metadata;\n        this.preference = preference;\n        this.communicator = new Communicator({\n            url: keysUrl,\n            metadata,\n            preference,\n        });\n        const signerType = loadSignerType();\n        if (signerType) {\n            this.signer = this.initSigner(signerType);\n        }\n    }\n    async request(args) {\n        try {\n            checkErrorForInvalidRequestArgs(args);\n            if (!this.signer) {\n                switch (args.method) {\n                    case 'eth_requestAccounts': {\n                        const signerType = await this.requestSignerSelection(args);\n                        const signer = this.initSigner(signerType);\n                        await signer.handshake(args);\n                        this.signer = signer;\n                        storeSignerType(signerType);\n                        break;\n                    }\n                    case 'wallet_sendCalls': {\n                        const ephemeralSigner = this.initSigner('scw');\n                        await ephemeralSigner.handshake({ method: 'handshake' }); // exchange session keys\n                        const result = await ephemeralSigner.request(args); // send diffie-hellman encrypted request\n                        await ephemeralSigner.cleanup(); // clean up (rotate) the ephemeral session keys\n                        return result;\n                    }\n                    case 'wallet_getCallsStatus':\n                        return fetchRPCRequest(args, CB_WALLET_RPC_URL);\n                    case 'net_version':\n                        return 1; // default value\n                    case 'eth_chainId':\n                        return hexStringFromNumber(1); // default value\n                    default: {\n                        throw standardErrors.provider.unauthorized(\"Must call 'eth_requestAccounts' before other methods\");\n                    }\n                }\n            }\n            return await this.signer.request(args);\n        }\n        catch (error) {\n            const { code } = error;\n            if (code === standardErrorCodes.provider.unauthorized)\n                this.disconnect();\n            return Promise.reject(serializeError(error));\n        }\n    }\n    /** @deprecated Use `.request({ method: 'eth_requestAccounts' })` instead. */\n    async enable() {\n        console.warn(`.enable() has been deprecated. Please use .request({ method: \"eth_requestAccounts\" }) instead.`);\n        return await this.request({\n            method: 'eth_requestAccounts',\n        });\n    }\n    async disconnect() {\n        var _a;\n        await ((_a = this.signer) === null || _a === void 0 ? void 0 : _a.cleanup());\n        this.signer = null;\n        ScopedLocalStorage.clearAll();\n        this.emit('disconnect', standardErrors.provider.disconnected('User initiated disconnection'));\n    }\n    requestSignerSelection(handshakeRequest) {\n        return fetchSignerType({\n            communicator: this.communicator,\n            preference: this.preference,\n            metadata: this.metadata,\n            handshakeRequest,\n            callback: this.emit.bind(this),\n        });\n    }\n    initSigner(signerType) {\n        return createSigner({\n            signerType,\n            metadata: this.metadata,\n            communicator: this.communicator,\n            callback: this.emit.bind(this),\n        });\n    }\n}\n//# sourceMappingURL=CoinbaseWalletProvider.js.map","/**\n * Validates user supplied preferences. Throws if keys are not valid.\n * @param preference\n */\nexport function validatePreferences(preference) {\n    if (!preference) {\n        return;\n    }\n    if (!['all', 'smartWalletOnly', 'eoaOnly'].includes(preference.options)) {\n        throw new Error(`Invalid options: ${preference.options}`);\n    }\n    if (preference.attribution) {\n        if (preference.attribution.auto !== undefined &&\n            preference.attribution.dataSuffix !== undefined) {\n            throw new Error(`Attribution cannot contain both auto and dataSuffix properties`);\n        }\n    }\n}\n//# sourceMappingURL=validatePreferences.js.map","import { CoinbaseWalletProvider } from './CoinbaseWalletProvider.js';\nimport { getCoinbaseInjectedProvider } from './util/provider.js';\nexport function createCoinbaseWalletProvider(options) {\n    var _a;\n    const params = {\n        metadata: options.metadata,\n        preference: options.preference,\n    };\n    return (_a = getCoinbaseInjectedProvider(params)) !== null && _a !== void 0 ? _a : new CoinbaseWalletProvider(params);\n}\n//# sourceMappingURL=createCoinbaseWalletProvider.js.map","import { createCoinbaseWalletProvider } from './createCoinbaseWalletProvider.js';\nimport { VERSION } from './sdk-info.js';\nimport { ScopedLocalStorage } from './core/storage/ScopedLocalStorage.js';\nimport { checkCrossOriginOpenerPolicy } from './util/checkCrossOriginOpenerPolicy.js';\nimport { validatePreferences } from './util/validatePreferences.js';\nconst DEFAULT_PREFERENCE = {\n    options: 'all',\n};\n/**\n * Create a Coinbase Wallet SDK instance.\n * @param params - Options to create a Coinbase Wallet SDK instance.\n * @returns A Coinbase Wallet SDK object.\n */\nexport function createCoinbaseWalletSDK(params) {\n    var _a;\n    const versionStorage = new ScopedLocalStorage('CBWSDK');\n    versionStorage.setItem('VERSION', VERSION);\n    void checkCrossOriginOpenerPolicy();\n    const options = {\n        metadata: {\n            appName: params.appName || 'Dapp',\n            appLogoUrl: params.appLogoUrl || '',\n            appChainIds: params.appChainIds || [],\n        },\n        preference: Object.assign(DEFAULT_PREFERENCE, (_a = params.preference) !== null && _a !== void 0 ? _a : {}),\n    };\n    /**\n     * Validate user supplied preferences. Throws if key/values are not valid.\n     */\n    validatePreferences(options.preference);\n    let provider = null;\n    return {\n        getProvider: () => {\n            if (!provider) {\n                provider = createCoinbaseWalletProvider(options);\n            }\n            return provider;\n        },\n    };\n}\n//# sourceMappingURL=createCoinbaseWalletSDK.js.map"],"names":["i","isHexString","s","h","_","window","chain","n","l","crypto","isBytes","abytes","aexists","aoutput","clean","createView","rotr","bytesToHex","utf8ToBytes","toBytes","createHasher","require$$0","a","u","hasHexBuiltin","hexes","Hash","require$$1","x","y","t","j","B","v","util","abi","type","value","e","ConnectionState","_a","m","_32n","c","A","C","D","E","F","G","sha256","sha256n","storage","css","r","f","o","p","w","d","k","g","S","M","$","P","L","T","z","render","useState","useEffect","id","EventEmitter"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55]}